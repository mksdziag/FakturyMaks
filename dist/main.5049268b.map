{"version":3,"sources":["node_modules/uuid/lib/rng-browser.js","node_modules/uuid/lib/bytesToUuid.js","node_modules/uuid/v1.js","node_modules/uuid/v4.js","node_modules/uuid/index.js","js/main.js"],"names":["uiController","DOMElements","document","querySelector","querySelectorAll","clearInnerHtml","elem","innerHTML","generateInvoiceSumRow","isTaxRate","checkingTaxRate","checkedTaxRate","storageController","draftItemsData","summaries","taxRates","vatRatefinalrow","createElement","classList","add","netValue","toFixed","taxValue","taxTotal","invoicePositionsTable","appendChild","itemQuantInp","value","itemPriceInp","itemNetValInp","valueAsNumber","itemTaxValInp","parseFloat","itemTaxRateInp","itemTotValInp","draftItemConstructor","reset","itemNameInp","focus","draftItemTable","items","forEach","newRow","id","item","dataset","identifier","name","unit","quantity","netPrice","taxRate","total","find","table","areTaxRateItems","taxRatefinalRow","drawtSumTable","draftSumRow","totalNetVal","totalTaxVal","invoiceObj","invoices","invoice","details","invType","textContent","type","invNum","number","invPlace","place","invDate","date","invSellDate","sellDate","invSellerName","seller","invSellerStr","street","invSellerCity","city","invSellerPostCode","postCode","invSellerNip","nip","invBuyerName","buyer","invBuyerStr","invBuyerCity","invBuyerPostCode","invBuyerNip","invFinalToPay","payment","toPay","invFinalPayMethod","method","invFinalPayTerm","term","invFinalAccount","account","positionsArray","invoicePositionsTableSum","indexOf","invoiceSumRow","isTax23","some","isTax8","isTax5","isTax3","isTax00","hidemodal","remove","activatePrintInvoice","printBtn","removeAttribute","claculateDraftTaxRatesValues","taxRateItemsArr","filter","taxRateNetValue","reduce","acc","taxRateTax","taxRateTotal","newItem","itemUnitInp","push","delID","generateDraftSumRow","docTypeInp","docNumInp","docPlaceInp","docDateInp","docSellDateInp","sellerNameInp","sellerStreetInp","sellerCityInp","sellerPostCodeInp","sellerNipInp","buyerNameInp","buyerStreetInp","buyerCityInp","buyerPostCodeInp","buyerNipInp","payMethodInp","payTermInp","payAccountInp","calculateDraftItemsTotals","draftItemsTotal","draftItemsTotalNetValue","draftItemsTotalTaxValue","appController","StorageCtrl","UiCtrl","isBankAccountCheck","e","target","parentElement","style","display","setAttribute","verifyInputField","validatePostCode","validateNip","validateAccount","validateFillInFormInput","verifyDraftItemInput","validateDraftItemInputs","validationFunctions","test","addBtn","disabled","addItem","newItemId","createNewItem","clearDraftItemFieds","addItemToDraftItemsList","createDraftVatRatesValues","buildDraftSumValues","calculateDraftItem","displayDraftItemNotFilledInputs","deleteDraftItem","contains","rebuildDraftItemsTable","generateInvoice","verified","inputs","Array","from","dataInpuForm","getElementsByClassName","input","createInvoiceObj","generateInvoicePositions","positions","showCompleteInfo","saveSeller","preventDefault","setItem","JSON","stringify","loadSeller","parse","localStorage","getItem","saveBuyer","buyers","retrieveBuyers","log","saveAccount","sellerAccount","loadAccount","accountNumber","saveItem","retrieveItems","itemsListModal","htmlOutput","localStorageItems","Object","entries","li","loadButton","itemName","nameSpan","priceSpan","taxSpan","itemsLoadList","fillDraftInput","closeItemsModal","init","genBtn","addEventListener","sellerSaveBtn","sellerLoadBtn","buyerSaveBtn","buyerLoadTrigger","accountSaveBtn","accountLoadBtn","itemSaveBtn","itemLoadTrigger","itemsListModalClose","$","on","printThis"],"mappings":"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","file":"main.5049268b.map","sourceRoot":"..","sourcesContent":["// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n","import { v4 } from \"uuid\";\nimport \"../sass/main.scss\";\n\nconst uiController = (function() {\n  // defining DOM elements\n  const DOMElements = {\n    // -------------------------------------------------------\n    // Invoice details input elements\n    // -------------------------------------------------------\n    dataInpuForm: document.querySelector(\".data-form\"),\n\n    // document data inputs\n    docTypeInp: document.querySelector(\".data__doc-type\"),\n    docNumInp: document.querySelector(\".data__doc-number\"),\n    docPlaceInp: document.querySelector(\".data__doc-place\"),\n    docDateInp: document.querySelector(\".data__doc-date\"),\n    docSellDateInp: document.querySelector(\".data__doc-sell-date\"),\n\n    // seller data inputs\n    sellerNameInp: document.querySelector(\".data__seller-name\"),\n    sellerStreetInp: document.querySelector(\".data__seller-street\"),\n    sellerCityInp: document.querySelector(\".data__seller-city\"),\n    sellerPostCodeInp: document.querySelector(\".data__seller-post-code\"),\n    sellerNipInp: document.querySelector(\".data__seller-nip\"),\n    sellerSaveBtn: document.querySelector(\".btn--seller-save\"),\n    sellerLoadBtn: document.querySelector(\".btn--seller-load\"),\n\n    // buyer data inputs\n    buyerNameInp: document.querySelector(\".data__buyer-name\"),\n    buyerStreetInp: document.querySelector(\".data__buyer-street\"),\n    buyerCityInp: document.querySelector(\".data__buyer-city\"),\n    buyerPostCodeInp: document.querySelector(\".data__buyer-post-code\"),\n    buyerNipInp: document.querySelector(\".data__buyer-nip\"),\n    buyerSaveBtn: document.querySelector(\".btn--buyer-save\"),\n    buyerLoadTrigger: document.querySelector(\".btn--buyer-load\"),\n\n    // payment terms inputs\n    payMethodInp: document.querySelector(\".payment__method\"),\n    payTermInp: document.querySelector(\".payment__term\"),\n    payAccountInp: document.querySelector(\".payment__account\"),\n    accountSaveBtn: document.querySelector(\".btn--account-save\"),\n    accountLoadBtn: document.querySelector(\".btn--account-load\"),\n\n    // draft positions inputs\n    itemNameInp: document.querySelector(\".draft-item__name\"),\n    itemUnitInp: document.querySelector(\".draft-item__unit\"),\n    itemQuantInp: document.querySelector(\".draft-item__quantity\"),\n    itemPriceInp: document.querySelector(\".draft-item__price\"),\n    itemNetValInp: document.querySelector(\".draft-item__net-value\"),\n    itemTaxRateInp: document.querySelector(\".draft-item__tax-rate\"),\n    itemTaxValInp: document.querySelector(\".draft-item__tax-value\"),\n    itemTotValInp: document.querySelector(\".draft-item__total-value\"),\n    itemSaveBtn: document.querySelector(\".btn--item-save\"),\n    itemLoadTrigger: document.querySelector(\".btn--item-load\"),\n    itemsListModal: document.querySelector(\".items-load__modal\"),\n    itemsListModalClose: document.querySelector(\".btn--close-items-modal\"),\n    itemsLoadList: document.querySelector(\".items-load__list\"),\n\n    // draft add button\n    addBtn: document.querySelector(\".btn--add-item\"),\n\n    // draft itens table\n    draftItemConstructor: document.querySelector(\".draft-item__constructor\"),\n    draftItemTable: document.querySelector(\".draft-added-items\"),\n    drawtSumTable: document.querySelector(\".draft__summary\"),\n    itemDelBtn: document.querySelectorAll(\".btn--item-del\"),\n\n    // button generate invoice\n    genBtn: document.querySelector(\".btn--gen-inv\"),\n    printBtn: document.querySelector(\".btn--print-inv\"),\n\n    // -------------------------------------------------------\n    //output invoice elements\n    // -------------------------------------------------------\n    invoice: document.querySelector(\".invoice\"),\n    // invoice heading\n    invType: document.querySelector(\".invoice__type\"),\n    invNum: document.querySelector(\".invoice__number\"),\n    invPlace: document.querySelector(\".invoice__place\"),\n    invSellDate: document.querySelector(\".invoice__sell-date\"),\n    invDate: document.querySelector(\".invoice__place-date\"),\n    // invoice seller details\n    invSellerName: document.querySelector(\".invoice__seller-name\"),\n    invSellerStr: document.querySelector(\".invoice__seller-street\"),\n    invSellerCity: document.querySelector(\".invoice__seller-city\"),\n    invSellerPostCode: document.querySelector(\".seller__post-code\"),\n    invSellerNip: document.querySelector(\".invoice__seller-nip\"),\n    // invoice buyer details\n    invBuyerName: document.querySelector(\".invoice__buyer-name\"),\n    invBuyerStr: document.querySelector(\".invoice__buyer-street\"),\n    invBuyerCity: document.querySelector(\".invoice__buyer-city\"),\n    invBuyerPostCode: document.querySelector(\".buyer__post-code\"),\n    invBuyerNip: document.querySelector(\".invoice__buyer-nip\"),\n    // Invoice positions items table\n    invoicePositionsTable: document.querySelector(\".invoice__positions-place\"),\n    invoicePositionsTableSum: document.querySelector(\".invoice__positions-summary\"),\n    // invoice final details\n    invFinalToPay: document.querySelector(\".invoice__final-to-pay\"),\n    invFinalPayMethod: document.querySelector(\".invoice__final-payment-method\"),\n    invFinalPayTerm: document.querySelector(\".invoice__final-payment-term\"),\n    invFinalAccount: document.querySelector(\".invoice__final-payment__account\"),\n  };\n\n  // displaying draft item taxes in draft item constructor form\n  const displayDraftItemNotFilledInputs = function() {\n    // if there is fullfilled draft item quantity and net price can calculate:\n    if (DOMElements.itemQuantInp.value !== \"\" && DOMElements.itemPriceInp.value !== \"\") {\n      // net value ptoduct price * quantity\n      DOMElements.itemNetValInp.value = (\n        DOMElements.itemPriceInp.valueAsNumber * DOMElements.itemQuantInp.valueAsNumber\n      ).toFixed(2);\n      // tax value\n      DOMElements.itemTaxValInp.value = (\n        DOMElements.itemQuantInp.valueAsNumber *\n        DOMElements.itemPriceInp.valueAsNumber *\n        parseFloat(DOMElements.itemTaxRateInp.value / 100)\n      ).toFixed(2);\n      // item total price\n      DOMElements.itemTotValInp.value = (\n        DOMElements.itemNetValInp.valueAsNumber + DOMElements.itemTaxValInp.valueAsNumber\n      ).toFixed(2);\n    }\n  };\n\n  // clearing draft item input fields\n  const clearDraftItemFieds = function() {\n    DOMElements.draftItemConstructor.reset();\n    DOMElements.itemNameInp.focus();\n  };\n\n  // add item to draft table\n  const addItemToDraftItemsList = function(id) {\n    const item = storageController.draftItemsData.items.find(item => item.id === id);\n    console.table(item);\n    // create newtable row\n    const newRow = document.createElement(\"tr\");\n    newRow.classList.add(\"draft__position\");\n    newRow.id = `draft-item-${item.id}`;\n    newRow.dataset.identifier = `${item.id}`;\n    newRow.innerHTML = `\n      <td class=\"draft__item-delete\"><button class=\"btn btn--item-del\">usuń</button></td>\n      <td class=\"draft__item-name\">${item.name}</td>\n      <td class=\"draft__item-unit\">${item.unit}</td>\n      <td class=\"draft__item-quantity\">${item.quantity.toFixed(2)}</td>\n      <td class=\"draft__item-price\">${item.netPrice.toFixed(2)}</td>\n      <td class=\"draft__item-net-value\">${item.netValue.toFixed(2)}</td>\n      <td class=\"draft__item-tax-rate\">${item.taxRate}%</td>\n      <td class=\"draft__item-tax-value\">${item.taxValue.toFixed(2)}</td>\n      <td class=\"draft__item-total-value\">${item.total.toFixed(2)}</td>`;\n    DOMElements.draftItemTable.appendChild(newRow);\n  };\n\n  // helper function for cleat innner HTML in given element\n  const clearInnerHtml = function(elem) {\n    elem.innerHTML = \"\";\n  };\n\n  // building draft items table from start\n  const rebuildDraftItemsTable = function() {\n    clearInnerHtml(DOMElements.draftItemTable);\n    // for each drafted item perform same action\n    storageController.draftItemsData.items.forEach(item => {\n      // create newtable row\n      const newRow = document.createElement(\"tr\");\n      newRow.classList.add(\"draft__position\");\n      newRow.id = `draft-item-${item.id}`;\n      newRow.dataset.identifier = `${item.id}`;\n      newRow.innerHTML = `\n      <td class=\"draft__item-delete\"><button class=\"btn btn--item-del\">usuń</button></td>\n      <td class=\"draft__item-name\">${item.name}</td>\n      <td class=\"draft__item-unit\">${item.unit}</td>\n      <td class=\"draft__item-quantity\">${item.quantity.toFixed(2)}</td>\n      <td class=\"draft__item-price\">${item.netPrice.toFixed(2)}</td>\n      <td class=\"draft__item-net-value\">${item.netValue.toFixed(2)}</td>\n      <td class=\"draft__item-tax-rate\">${item.taxRate}%</td>\n      <td class=\"draft__item-tax-value\">${item.taxValue.toFixed(2)}</td>\n      <td class=\"draft__item-total-value\">${item.total.toFixed(2)}</td>`;\n      DOMElements.draftItemTable.appendChild(newRow);\n    });\n  };\n\n  // building draft sum values in draft table\n  const buildDraftSumValues = function() {\n    // remove all content from summary draft table\n    clearInnerHtml(DOMElements.drawtSumTable);\n\n    const draftSumRow = document.createElement(\"tr\");\n    draftSumRow.classList.add(\"draft__summary-row\");\n    draftSumRow.innerHTML = `\n    <th colspan=\"5\" class=\"draft__summary-legend\">Razem:</th>\n    <th class=\"draft__summary-net-value\">${storageController.draftItemsData.summaries.totalNetVal.toFixed(\n      2\n    )}</th>\n    <th class=\"\"></th>\n    <th class=\"draft__summary-vat-value\">${storageController.draftItemsData.summaries.totalTaxVal.toFixed(\n      2\n    )}</th>\n    <th class=\"draft__summary-total\">${storageController.draftItemsData.summaries.total.toFixed(\n      2\n    )}</th>`;\n    DOMElements.drawtSumTable.appendChild(draftSumRow);\n  };\n\n  const generateDraftSumRow = function(areTaxRateItems, checkingTaxRate) {\n    const checkedTaxRate =\n      storageController.draftItemsData.summaries.taxRates[`tax${checkingTaxRate}`];\n    if (areTaxRateItems) {\n      const taxRatefinalRow = document.createElement(\"tr\");\n      taxRatefinalRow.classList.add(\"draft__summary-row\");\n      taxRatefinalRow.innerHTML = `\n      <td colspan=\"5\" class=\"draft__summary-legend\">W tym:</td>\n      <td class=\"draft__summary-net-value\">${checkedTaxRate.netValue.toFixed(2)}</td>\n      <td class=\"\">${checkingTaxRate}%</td>\n      <td class=\"draft__summary-vat-value\">${checkedTaxRate.taxValue.toFixed(2)}</td>\n      <td class=\"draft__summary-total\">${checkedTaxRate.taxTotal.toFixed(2)}</td>`;\n      DOMElements.drawtSumTable.appendChild(taxRatefinalRow);\n    }\n  };\n\n  const generateInvoice = function() {\n    const invoiceObj = storageController.invoices.invoice.details;\n    // inserting details of the invoice\n    DOMElements.invType.textContent = `${invoiceObj.document.type}`;\n    DOMElements.invNum.textContent = `nr ${invoiceObj.document.number}`;\n    DOMElements.invPlace.textContent = `Miejsce wystawienia: ${invoiceObj.document.place}`;\n    DOMElements.invDate.textContent = `Data wystawienia: ${invoiceObj.document.date}`;\n    DOMElements.invSellDate.textContent = `Data sprzedaży: ${invoiceObj.document.sellDate}`;\n    DOMElements.invSellerName.textContent = `${invoiceObj.seller.name}`;\n    DOMElements.invSellerStr.textContent = `${invoiceObj.seller.street}`;\n    DOMElements.invSellerCity.textContent = `${invoiceObj.seller.city}`;\n    DOMElements.invSellerPostCode.textContent = `${invoiceObj.seller.postCode}`;\n    DOMElements.invSellerNip.textContent = `NIP: ${invoiceObj.seller.nip}`;\n    DOMElements.invBuyerName.textContent = `${invoiceObj.buyer.name}`;\n    DOMElements.invBuyerStr.textContent = `${invoiceObj.buyer.street}`;\n    DOMElements.invBuyerCity.textContent = `${invoiceObj.buyer.city}`;\n    DOMElements.invBuyerPostCode.textContent = `${invoiceObj.buyer.postCode}`;\n    DOMElements.invBuyerNip.textContent = `NIP: ${invoiceObj.buyer.nip}`;\n    DOMElements.invFinalToPay.textContent = `Do zapłaty: ${invoiceObj.payment.toPay.toFixed(\n      2\n    )} PLN`;\n    DOMElements.invFinalPayMethod.textContent = `Sposób płatności: ${invoiceObj.payment.method}`;\n    DOMElements.invFinalPayTerm.textContent = `Termin płatności: ${invoiceObj.payment.term}`;\n    // print account number if choosen method is different than cash\n    if (invoiceObj.payment.method !== \"gotówka\") {\n      DOMElements.invFinalAccount.textContent = `Konto: ${invoiceObj.payment.account}`;\n    } else {\n      DOMElements.invFinalAccount.textContent = ``;\n    }\n  };\n\n  const generateInvoicePositions = function(positionsArray) {\n    clearInnerHtml(DOMElements.invoicePositionsTable);\n    clearInnerHtml(DOMElements.invoicePositionsTableSum);\n\n    positionsArray.forEach(item => {\n      const newRow = document.createElement(\"tr\");\n      newRow.classList.add(\"invoice__position\");\n      newRow.id = `invoice-item${item.id}`;\n      newRow.dataset.identifier = `${item.id}`;\n      newRow.innerHTML = `\n          <td class=\"invoice__item-lp\">${positionsArray.indexOf(item) + 1}</td>\n          <td class=\"invoice__item-name\">${item.name}</td>\n          <td class=\"invoice__item-unit\">${item.unit}</td>\n          <td class=\"invoice__item-quantity\">${item.quantity.toFixed(2)}</td>\n          <td class=\"invoice__item-price\">${item.netPrice.toFixed(2)}</td>\n          <td class=\"invoice__item-net-value\">${item.netValue.toFixed(2)}</td>\n          <td class=\"invoice__item-tax-rate\">${item.taxRate.toFixed(2)}</td>\n          <td class=\"invoice__item-tax-value\">${item.taxValue.toFixed(2)}</td>\n          <td class=\"invoice__item-total-value\">${item.total.toFixed(2)}</td>`;\n      DOMElements.invoicePositionsTable.appendChild(newRow);\n    });\n\n    // invoice items summaries from draft items summaries section\n    const totalNetVal = storageController.draftItemsData.summaries.totalNetVal;\n    const totalTaxVal = storageController.draftItemsData.summaries.totalTaxVal;\n    const total = storageController.draftItemsData.summaries.total;\n\n    const invoiceSumRow = document.createElement(\"tr\");\n    invoiceSumRow.classList.add(\"invoice__summary-row\");\n    invoiceSumRow.innerHTML = `\n    <th colspan=\"5\" class=\"invoice__summary-legend\">Razem:</th>\n    <th class=\"invoice__summary-net-value\">${totalNetVal.toFixed(2)}</th>\n    <th class=\"\"></th>\n    <th class=\"invoice__summary-vat-value\">${totalTaxVal.toFixed(2)}</th>\n    <th class=\"invoice__summary-total\">${total.toFixed(2)}</th>`;\n    DOMElements.invoicePositionsTable.appendChild(invoiceSumRow);\n\n    // generate boolean values for check it there are some products with specific tax rates\n    const isTax23 = positionsArray.some(item => item.taxRate === 23);\n    const isTax8 = positionsArray.some(item => item.taxRate === 8);\n    const isTax5 = positionsArray.some(item => item.taxRate === 5);\n    const isTax3 = positionsArray.some(item => item.taxRate === 3);\n    const isTax00 = positionsArray.some(item => item.taxRate === 0);\n\n    //  generate summaries by vat rate\n    generateInvoiceSumRow(isTax23, 23);\n    generateInvoiceSumRow(isTax8, 8);\n    generateInvoiceSumRow(isTax5, 5);\n    generateInvoiceSumRow(isTax3, 3);\n    generateInvoiceSumRow(isTax00, 0);\n  };\n\n  // generate invoice positions sum row for each existing in draft items tavle tax rate determined by first argument the boolean value\n  const generateInvoiceSumRow = function(isTaxRate, checkingTaxRate) {\n    const checkedTaxRate =\n      storageController.draftItemsData.summaries.taxRates[`tax${checkingTaxRate}`];\n    if (isTaxRate) {\n      const vatRatefinalrow = document.createElement(\"tr\");\n      vatRatefinalrow.classList.add(\"invoice__summary-row\");\n      vatRatefinalrow.innerHTML = `\n        <td colspan=\"5\" class=\"invoice__summary-legend\">W tym:</td>\n        <td class=\"invoice__summary-net-value\">${checkedTaxRate.netValue.toFixed(2)}</td>\n        <td class=\"\">${checkingTaxRate}%</td>\n        <td class=\"invoice__summary-vat-value\">${checkedTaxRate.taxValue.toFixed(2)}</td>\n        <td class=\"invoice__summary-total\">${checkedTaxRate.taxTotal.toFixed(2)}</td>`;\n      DOMElements.invoicePositionsTable.appendChild(vatRatefinalrow);\n    }\n  };\n\n  // showing modal complete\n  const showCompleteInfo = function() {\n    document.querySelector(\".not-completed-form-modal\").classList.add(\"visible\");\n    setTimeout(hidemodal, 2500);\n\n    function hidemodal() {\n      document.querySelector(\".not-completed-form-modal\").classList.remove(\"visible\");\n    }\n  };\n\n  const activatePrintInvoice = function() {\n    DOMElements.printBtn.removeAttribute(\"disabled\");\n  };\n\n  /*++++++++++++++++++++++++++++++++++++++++++++++++++++++\n  Revealed methods \n  ----------------------------------------------------*/\n  return {\n    DOMElements,\n    displayDraftItemNotFilledInputs,\n    clearDraftItemFieds,\n    rebuildDraftItemsTable,\n    addItemToDraftItemsList,\n    generateDraftSumRow,\n    buildDraftSumValues,\n    generateInvoice,\n    generateInvoicePositions,\n    showCompleteInfo,\n    activatePrintInvoice,\n  };\n})();\n\n/*-----------------------------------------------------\n  Storage Controller \n  ----------------------------------------------------*/\n\nconst storageController = (function() {\n  const draftItemsData = {\n    items: [],\n    summaries: {\n      total: 0,\n      totalNetVal: 0,\n      totalTaxVal: 0,\n      taxRates: {\n        tax23: {\n          netValue: 0,\n          taxValue: 0,\n          taxTotal: 0,\n        },\n        tax8: {\n          netValue: 0,\n          taxValue: 0,\n          taxTotal: 0,\n        },\n        tax5: {\n          netValue: 0,\n          taxValue: 0,\n          taxTotal: 0,\n        },\n        tax3: {\n          netValue: 0,\n          taxValue: 0,\n          taxTotal: 0,\n        },\n        tax0: {\n          netValue: 0,\n          taxValue: 0,\n          taxTotal: 0,\n        },\n      },\n    },\n  };\n\n  const invoices = {\n    invoice: {},\n  };\n\n  const DOMElements = uiController.DOMElements;\n\n  const createInvoiceObj = function() {\n    const invoice = {\n      details: {\n        document: {\n          type: DOMElements.docTypeInp.value,\n          number: DOMElements.docNumInp.value,\n          place: DOMElements.docPlaceInp.value,\n          date: DOMElements.docDateInp.value,\n          sellDate: DOMElements.docSellDateInp.value,\n        },\n        seller: {\n          name: DOMElements.sellerNameInp.value,\n          street: DOMElements.sellerStreetInp.value,\n          city: DOMElements.sellerCityInp.value,\n          postCode: DOMElements.sellerPostCodeInp.value,\n          nip: DOMElements.sellerNipInp.value,\n        },\n        buyer: {\n          name: DOMElements.buyerNameInp.value,\n          street: DOMElements.buyerStreetInp.value,\n          city: DOMElements.buyerCityInp.value,\n          postCode: DOMElements.buyerPostCodeInp.value,\n          nip: DOMElements.buyerNipInp.value,\n        },\n        payment: {\n          toPay: draftItemsData.summaries.total,\n          method: DOMElements.payMethodInp.value,\n          term: DOMElements.payTermInp.value,\n          account: DOMElements.payAccountInp.value,\n        },\n      },\n      positions: draftItemsData.items,\n    };\n    invoices.invoice = invoice;\n  };\n\n  const deleteDraftItem = function(delID) {\n    draftItemsData.items = draftItemsData.items.filter(item => item.id != delID);\n  };\n\n  const createNewItem = function(id) {\n    const newItem = {\n      // asigning values to newitem\n      id: id,\n      name: DOMElements.itemNameInp.value,\n      unit: DOMElements.itemUnitInp.value,\n      quantity: DOMElements.itemQuantInp.valueAsNumber,\n      netPrice: DOMElements.itemPriceInp.valueAsNumber,\n      taxRate: parseFloat(DOMElements.itemTaxRateInp.value),\n      get netValue() {\n        return this.netPrice * this.quantity;\n      },\n      get taxValue() {\n        return this.netPrice * this.quantity * (this.taxRate / 100);\n      },\n      get total() {\n        return this.netPrice * this.quantity + this.netPrice * this.quantity * (this.taxRate / 100);\n      },\n    };\n    draftItemsData.items.push(newItem);\n  };\n\n  const calculateDraftItemsTotals = function() {\n    const draftItemsTotal = draftItemsData.items.reduce((acc, item) => {\n      return acc + item.total;\n    }, 0);\n    const draftItemsTotalNetValue = draftItemsData.items.reduce((acc, item) => {\n      return acc + item.netValue;\n    }, 0);\n    const draftItemsTotalTaxValue = draftItemsData.items.reduce((acc, item) => {\n      return acc + item.taxValue;\n    }, 0);\n\n    draftItemsData.summaries.total = draftItemsTotal;\n    draftItemsData.summaries.totalNetVal = draftItemsTotalNetValue;\n    draftItemsData.summaries.totalTaxVal = draftItemsTotalTaxValue;\n  };\n\n  const claculateDraftTaxRatesValues = function(areTaxRateItems, checkingTaxRate) {\n    if (areTaxRateItems) {\n      const taxRateItemsArr = draftItemsData.items.filter(item => item.taxRate === checkingTaxRate);\n      const taxRateNetValue = taxRateItemsArr.reduce((acc, item) => {\n        return acc + item.netValue;\n      }, 0);\n      const taxRateTax = taxRateItemsArr.reduce((acc, item) => {\n        return acc + item.taxValue;\n      }, 0);\n      const taxRateTotal = taxRateItemsArr.reduce((acc, item) => {\n        return acc + item.total;\n      }, 0);\n\n      draftItemsData.summaries.taxRates[`tax${checkingTaxRate}`].taxValue = taxRateTax;\n      draftItemsData.summaries.taxRates[`tax${checkingTaxRate}`].taxTotal = taxRateTotal;\n      draftItemsData.summaries.taxRates[`tax${checkingTaxRate}`].netValue = taxRateNetValue;\n    }\n  };\n\n  // creating vat rates summaries in storage controller and building summaries rows in draft items table\n  const createDraftVatRatesValues = function() {\n    // boolean values for check if there are some products with specific tax rates\n    const isTax00 = draftItemsData.items.some(item => item.taxRate === 0);\n    const isTax3 = draftItemsData.items.some(item => item.taxRate === 3);\n    const isTax5 = draftItemsData.items.some(item => item.taxRate === 5);\n    const isTax8 = draftItemsData.items.some(item => item.taxRate === 8);\n    const isTax23 = draftItemsData.items.some(item => item.taxRate === 23);\n\n    // calculate summary valuest for each vat rate\n    claculateDraftTaxRatesValues(isTax00, 0);\n    claculateDraftTaxRatesValues(isTax3, 3);\n    claculateDraftTaxRatesValues(isTax5, 5);\n    claculateDraftTaxRatesValues(isTax8, 8);\n    claculateDraftTaxRatesValues(isTax23, 23);\n\n    // create summary row for each existing vat rate\n    uiController.generateDraftSumRow(isTax00, 0);\n    uiController.generateDraftSumRow(isTax3, 3);\n    uiController.generateDraftSumRow(isTax5, 5);\n    uiController.generateDraftSumRow(isTax8, 8);\n    uiController.generateDraftSumRow(isTax23, 23);\n  };\n\n  /*++++++++++++++++++++++++++++++++++++++++++++++++++++++\n  Revealed methods \n  ----------------------------------------------------*/\n  return {\n    invoices,\n    draftItemsData,\n    createNewItem,\n    deleteDraftItem,\n    createDraftVatRatesValues,\n    createInvoiceObj,\n    calculateDraftItemsTotals,\n  };\n})();\n\n/*-----------------------------------------------------\n  App Controller\n----------------------------------------------------*/\n\nconst appController = (function(StorageCtrl, UiCtrl) {\n  const DOMElements = UiCtrl.DOMElements;\n\n  const loadEventListeners = function() {\n    // generate invoice event listener\n    DOMElements.genBtn.addEventListener(\"click\", generateInvoice);\n    // event listeners for draft section\n    DOMElements.addBtn.addEventListener(\"click\", addItem);\n    DOMElements.itemQuantInp.addEventListener(\"change\", calculateDraftItem);\n    DOMElements.itemPriceInp.addEventListener(\"change\", calculateDraftItem);\n    DOMElements.itemNetValInp.addEventListener(\"change\", calculateDraftItem);\n    DOMElements.itemTaxRateInp.addEventListener(\"change\", calculateDraftItem);\n    DOMElements.draftItemTable.addEventListener(\"click\", deleteDraftItem);\n\n    // event listeners for verification for inputs section\n    DOMElements.dataInpuForm.addEventListener(\"keyup\", verifyInputField);\n    DOMElements.dataInpuForm.addEventListener(\"change\", verifyInputField);\n    DOMElements.draftItemConstructor.addEventListener(\"keyup\", verifyDraftItemInput);\n\n    DOMElements.payMethodInp.addEventListener(\"change\", isBankAccountCheck);\n\n    // local storage save and load listeners\n    DOMElements.sellerSaveBtn.addEventListener(\"click\", saveSeller);\n    DOMElements.sellerLoadBtn.addEventListener(\"click\", loadSeller);\n    DOMElements.buyerSaveBtn.addEventListener(\"click\", saveBuyer);\n    DOMElements.buyerLoadTrigger.addEventListener(\"click\", retrieveBuyers);\n    DOMElements.accountSaveBtn.addEventListener(\"click\", saveAccount);\n    DOMElements.accountLoadBtn.addEventListener(\"click\", loadAccount);\n    DOMElements.itemSaveBtn.addEventListener(\"click\", saveItem);\n    DOMElements.itemLoadTrigger.addEventListener(\"click\", retrieveItems);\n    DOMElements.itemsListModalClose.addEventListener(\"click\", closeItemsModal);\n    DOMElements.itemsLoadList.addEventListener(\"click\", fillDraftInput);\n  };\n\n  // initialization function\n  const init = function() {\n    loadEventListeners();\n  };\n  const isBankAccountCheck = function(e) {\n    if (e.target.value === \"gotówka\") {\n      DOMElements.payAccountInp.parentElement.style.display = \"none\";\n      DOMElements.payAccountInp.setAttribute(\"disabled\", true);\n      DOMElements.payAccountInp.value = \"\";\n    } else {\n      DOMElements.payAccountInp.parentElement.style.display = \"flex\";\n      DOMElements.payAccountInp.removeAttribute(\"disabled\");\n    }\n  };\n\n  const verifyInputField = function(e) {\n    if (e.target === DOMElements.sellerPostCodeInp || e.target === DOMElements.buyerPostCodeInp) {\n      validationFunctions.validatePostCode(e);\n    } else if (e.target === DOMElements.sellerNipInp || e.target === DOMElements.buyerNipInp) {\n      validationFunctions.validateNip(e);\n    } else if (e.target === DOMElements.payAccountInp) {\n      if (\n        DOMElements.payMethodInp.value !== \"gotówka\" ||\n        DOMElements.payMethodInp.value !== \"pobranie\"\n      ) {\n        validationFunctions.validateAccount(e);\n      }\n    } else {\n      validationFunctions.validateFillInFormInput(e);\n    }\n  };\n\n  const verifyDraftItemInput = function(e) {\n    validationFunctions.validateDraftItemInputs(e);\n  };\n\n  const verifyCompletedForm = function() {\n    let inputs = Array.from(DOMElements.dataInpuForm.getElementsByClassName(\"input\"));\n\n    // If payment method is 'gotówka' cuts this field from inputs array to not validate ir\n    if (DOMElements.payMethodInp.value === \"gotówka\") {\n      inputs = inputs.filter(item => item.classList.contains(\"payment__account\") === false);\n    }\n    if (inputs.some(input => input.value === \"\" || input.value === \" \")) {\n      inputs\n        .filter(input => input.value === \"\" || input.value === \" \")\n        .forEach(input => input.classList.add(\"invalid\"));\n      return false;\n    } else {\n      return true;\n    }\n  };\n\n  // validation functions object\n  const validationFunctions = {\n    validatePostCode: function(e) {\n      const reg = /^\\d\\d-\\d\\d\\d$/;\n      if (!reg.test(e.target.value)) {\n        e.target.classList.add(\"invalid\");\n      } else {\n        e.target.classList.remove(\"invalid\");\n      }\n    },\n    validateNip: function(e) {\n      const reg = /^\\d{3}[- ]?\\d{3}[- ]?\\d\\d[- ]?\\d\\d\\s?$/;\n      if (!reg.test(e.target.value)) {\n        e.target.classList.add(\"invalid\");\n      } else {\n        e.target.classList.remove(\"invalid\");\n      }\n    },\n    validateAccount: function(e) {\n      const reg = /^([A-Za-z]{2})?[ ]?\\d{2}([ ]?\\d{4}){6}\\s?$/;\n      if (!reg.test(e.target.value)) {\n        e.target.classList.add(\"invalid\");\n      } else {\n        e.target.classList.remove(\"invalid\");\n      }\n    },\n    validateFillInFormInput: function(e) {\n      const reg = /[A-Za-z\\d]+/;\n      if (!reg.test(e.target.value)) {\n        e.target.classList.add(\"invalid\");\n      } else {\n        e.target.classList.remove(\"invalid\");\n      }\n    },\n    validateDraftItemInputs: function(e) {\n      if (\n        DOMElements.itemNameInp.value !== \"\" &&\n        DOMElements.itemNameInp.value !== \"\" &&\n        DOMElements.itemQuantInp.value !== \"\" &&\n        DOMElements.itemPriceInp.value !== \"\"\n      ) {\n        DOMElements.addBtn.disabled = false;\n      } else {\n        DOMElements.addBtn.disabled = true;\n      }\n    },\n  };\n\n  const addItem = function() {\n    const newItemId = v4();\n    storageController.createNewItem(newItemId);\n    storageController.calculateDraftItemsTotals();\n    UiCtrl.clearDraftItemFieds();\n    UiCtrl.addItemToDraftItemsList(newItemId);\n    StorageCtrl.createDraftVatRatesValues();\n    UiCtrl.buildDraftSumValues();\n    storageController.createDraftVatRatesValues();\n    DOMElements.addBtn.disabled = true;\n  };\n\n  const calculateDraftItem = function() {\n    // calculate and display not filled draft input values and placing it's values as input value\n    UiCtrl.displayDraftItemNotFilledInputs();\n  };\n\n  const deleteDraftItem = function(e) {\n    if (e.target.classList.contains(\"btn--item-del\")) {\n      // determine id of target item\n      const delID = e.target.parentElement.parentElement.dataset.identifier;\n      // delete item from storage array by given id\n      StorageCtrl.deleteDraftItem(delID);\n      // recalculate invoice totals\n      StorageCtrl.calculateDraftItemsTotals();\n      // rebuild draft items table\n      UiCtrl.rebuildDraftItemsTable();\n      // check existing on draft items vat rates\n      StorageCtrl.createDraftVatRatesValues();\n      // rebuild vat summareis table by vat rate for draft items\n      UiCtrl.buildDraftSumValues();\n    }\n  };\n\n  // function for generate new invoice object\n  const generateInvoice = function() {\n    const verified = verifyCompletedForm();\n    if (verified) {\n      // create invoice object in storage\n      StorageCtrl.createInvoiceObj();\n      // generating invoice document\n      UiCtrl.generateInvoice();\n      // generate invoice positions from draft items\n      UiCtrl.generateInvoicePositions(StorageCtrl.invoices.invoice.positions);\n      // Activate print invoice button\n      UiCtrl.activatePrintInvoice();\n    } else {\n      uiController.showCompleteInfo();\n    }\n  };\n\n  const saveSeller = function(e) {\n    e.preventDefault();\n\n    const seller = {\n      name: DOMElements.sellerNameInp.value,\n      street: DOMElements.sellerStreetInp.value,\n      city: DOMElements.sellerCityInp.value,\n      postCode: DOMElements.sellerPostCodeInp.value,\n      nip: DOMElements.sellerNipInp.value,\n    };\n\n    localStorage.setItem(\"seller\", JSON.stringify(seller));\n  };\n\n  const loadSeller = function(e) {\n    e.preventDefault();\n\n    const seller = JSON.parse(localStorage.getItem(\"seller\"));\n\n    DOMElements.sellerNameInp.value = seller.name;\n    DOMElements.sellerStreetInp.value = seller.street;\n    DOMElements.sellerCityInp.value = seller.city;\n    DOMElements.sellerPostCodeInp.value = seller.postCode;\n    DOMElements.sellerNipInp.value = seller.nip;\n  };\n\n  const saveBuyer = function(e) {\n    e.preventDefault();\n\n    const buyer = {\n      name: DOMElements.buyerNameInp.value,\n      street: DOMElements.buyerStreetInp.value,\n      city: DOMElements.buyerCityInp.value,\n      postCode: DOMElements.buyerPostCodeInp.value,\n      nip: DOMElements.buyerNipInp.value,\n    };\n\n    let buyers = {};\n    if (localStorage.getItem(\"buyers\")) {\n      buyers = JSON.parse(localStorage.getItem(\"buyers\"));\n    }\n\n    buyers[buyer.name] = buyer;\n\n    localStorage.setItem(\"buyers\", JSON.stringify(buyers));\n  };\n\n  const retrieveBuyers = function(e) {\n    console.log(\"not yet baby\");\n  };\n\n  const saveAccount = function(e) {\n    e.preventDefault();\n\n    const sellerAccount = {\n      accountNumber: DOMElements.payAccountInp.value,\n    };\n\n    localStorage.setItem(\"sellerAccount\", JSON.stringify(sellerAccount));\n  };\n\n  const loadAccount = function(e) {\n    e.preventDefault();\n\n    const sellerAccount = JSON.parse(localStorage.getItem(\"sellerAccount\"));\n\n    DOMElements.payAccountInp.value = sellerAccount.accountNumber;\n  };\n\n  const saveItem = function(e) {\n    e.preventDefault();\n\n    const item = {\n      name: DOMElements.itemNameInp.value,\n      unit: DOMElements.itemUnitInp.value,\n      netPrice: DOMElements.itemPriceInp.valueAsNumber,\n      taxRate: parseFloat(DOMElements.itemTaxRateInp.value),\n    };\n\n    let items = {};\n    if (localStorage.getItem(\"items\")) {\n      items = JSON.parse(localStorage.getItem(\"items\"));\n    }\n\n    items[item.name] = item;\n\n    localStorage.setItem(\"items\", JSON.stringify(items));\n  };\n\n  const retrieveItems = function(e) {\n    e.preventDefault();\n    // modal classlist add active\n    DOMElements.itemsListModal.style = \"display: block\";\n    setTimeout(() => {\n      DOMElements.itemsListModal.classList.add(\"modal-active\");\n    }, 10);\n    // localstorage list items\n    let items = [];\n    if (localStorage.getItem(\"items\")) {\n      let htmlOutput = \"\";\n      const localStorageItems = JSON.parse(localStorage.getItem(\"items\"));\n      items = Object.entries(localStorageItems);\n      console.log(items);\n      items.forEach(item => {\n        const li = document.createElement(\"li\");\n        li.classList.add(\"items-load__item\");\n\n        const loadButton = document.createElement(\"button\");\n        loadButton.classList.add(\"btn\");\n        loadButton.classList.add(\"btn--load\");\n        loadButton.dataset.itemName = item[1].name;\n        loadButton.textContent = \"Wybierz\";\n\n        const nameSpan = document.createElement(\"span\");\n        nameSpan.classList.add(\"items-load__item-name\");\n        nameSpan.textContent = item[1].name;\n\n        const priceSpan = document.createElement(\"span\");\n        priceSpan.classList.add(\"items-load__item-price\");\n        priceSpan.textContent = item[1].netPrice;\n\n        const taxSpan = document.createElement(\"span\");\n        taxSpan.classList.add(\"items-load__item-tax\");\n        taxSpan.textContent = item[1].taxRate;\n\n        li.appendChild(loadButton);\n        li.appendChild(nameSpan);\n        li.appendChild(priceSpan);\n        li.appendChild(taxSpan);\n        console.log(li);\n        DOMElements.itemsLoadList.appendChild(li);\n      });\n    } else {\n      DOMElements.itemsLoadList.textContent =\n        \"Nie ma żadnych produków zapisanych w twojej przeglądarce.\";\n    }\n  };\n\n  const fillDraftInput = function(e) {\n    if (e.target.classList.contains(\"btn--load\")) {\n      console.log(e.target.dataset.itemName);\n      const items = JSON.parse(localStorage.getItem(\"items\"));\n      const item = items[e.target.dataset.itemName];\n      DOMElements.itemNameInp.value = item.name;\n      DOMElements.itemUnitInp.value = item.unit;\n      DOMElements.itemPriceInp.value = item.netPrice;\n      DOMElements.itemTaxRateInp.value = item.taxRate;\n      closeItemsModal();\n    }\n  };\n\n  const closeItemsModal = function() {\n    DOMElements.itemsListModal.classList.remove(\"modal-active\");\n    setTimeout(() => {\n      DOMElements.itemsListModal.style = \"display: none\";\n    }, 250);\n    DOMElements.itemsLoadList.innerHTML = \"\";\n  };\n\n  /*++++++++++++++++++++++++++++++++++++++++++++++++++++++\n  Revealed methods \n  ----------------------------------------------------*/\n  return {\n    init,\n  };\n})(storageController, uiController);\n\nappController.init();\n\n// print js script for printing\n$(\".btn--print-inv\").on(\"click\", function() {\n  $(\".invoice\").printThis();\n});\n"]}