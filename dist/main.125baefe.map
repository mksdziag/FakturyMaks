{"version":3,"sources":["src/js/printThis.js","node_modules/uuid/lib/rng-browser.js","node_modules/uuid/lib/bytesToUuid.js","node_modules/uuid/v1.js","node_modules/uuid/v4.js","node_modules/uuid/index.js","src/js/main.js"],"names":["$","appendContent","$el","content","append","jquery","clone","appendBody","$body","$element","opt","$content","elementSelector","$originalElements","formValues","find","each","index","item","val","eq","removeScripts","remove","printContainer","appendTo","children","fn","printThis","options","extend","defaults","jQuery","strFrameName","Date","getTime","window","location","hostname","document","domain","navigator","userAgent","match","iframeSrc","printI","createElement","name","id","className","body","appendChild","src","$iframe","debug","css","doctypeString","setDocType","doctype","win","doc","get","contentWindow","contentDocument","open","write","close","$doc","baseURL","contents","$head","$base","base","length","attr","protocol","host","importCSS","href","media","importStyle","outerHTML","pageTitle","loadCSS","isArray","value","tag","copyTagClasses","indexOf","addClass","header","canvas","canvasId","addBack","cid","data","$src","getContext","drawImage","removeData","removeInline","isFunction","removeAttr","footer","hasClass","frames","focus","queryCommandSupported","execCommand","print","printDelay","uiController","DOMElements","querySelector","querySelectorAll","clearInnerHtml","elem","innerHTML","generateInvoiceSumRow","isTaxRate","checkingTaxRate","checkedTaxRate","storageController","draftItemsData","summaries","taxRates","vatRatefinalrow","classList","add","netValue","toFixed","taxValue","taxTotal","invoicePositionsTable","closeStorageModal","storageListModal","style","display","hideBackdropModal","storageList","storageListBackdrop","displayBackdropModal","noLocalStorageDataInfo","message","noDataInfo","textContent","itemQuantInp","itemPriceInp","itemNetValInp","valueAsNumber","itemTaxValInp","parseFloat","itemTaxRateInp","itemTotValInp","itemTotalPriceInp","draftItemConstructor","reset","itemNameInp","draftItemTable","items","forEach","newRow","dataset","identifier","unit","quantity","netPrice","taxRate","total","areTaxRateItems","taxRatefinalRow","drawtSumTable","draftSumRow","totalNetVal","totalTaxVal","invoiceObj","invoices","invoice","details","invType","type","invNum","number","invPlace","place","invDate","date","invSellDate","sellDate","invSellerName","seller","invSellerStr","street","invSellerCity","city","invSellerPostCode","postCode","invSellerNip","nip","invBuyerName","buyer","invBuyerStr","invBuyerCity","invBuyerPostCode","invBuyerNip","invFinalToPay","payment","toPay","invFinalPayMethod","method","invFinalPayTerm","term","invFinalAccount","account","positionsArray","invoicePositionsTableSum","invoiceSumRow","isTax23","some","isTax8","isTax5","isTax3","isTax00","competionModal","hideCompletionModal","printBtn","removeAttribute","e","target","contains","JSON","parse","localStorage","getItem","itemName","itemUnitInp","sellers","sellerName","sellerNameInp","sellerStreetInp","sellerCityInp","sellerPostCodeInp","sellerNipInp","buyers","buyerName","buyerNameInp","buyerStreetInp","buyerCityInp","buyerPostCodeInp","buyerNipInp","accounts","accountNumber","payAccountInp","localStorageItems","Object","keys","entries","li","loadButton","deleteButton","nameSpan","priceSpan","taxSpan","dateSpan","localStorageAccounts","accountNumberSpan","localStorageBuyers","streetSpan","citySpan","nipSpan","hideListItem","element","addEventListener","log","propertyName","claculateDraftTaxRatesValues","taxRateItemsArr","filter","taxRateNetValue","reduce","acc","taxRateTax","taxRateTotal","newItem","push","delID","generateDraftSumRow","docTypeInp","docNumInp","docPlaceInp","docDateInp","docSellDateInp","payMethodInp","payTermInp","draftItemsTotal","draftItemsTotalNetValue","draftItemsTotalTaxValue","setItem","stringify","deleteItem","appController","StorageCtrl","UiCtrl","isBankAccountCheck","parentElement","setAttribute","verifyInputField","validatePostCode","validateNip","validateAccount","validateFillInFormInput","verifyDraftItemInput","validateDraftItemInputs","validationFunctions","test","addBtn","disabled","addItem","newItemId","createNewItem","calculateDraftItemsTotals","clearDraftItemFieds","addItemToDraftItemsList","createDraftVatRatesValues","buildDraftSumValues","calculateDraftItem","displayDraftItemNotFilledInputs","deleteDraftItem","rebuildDraftItemsTable","generateInvoice","verified","inputs","Array","from","dataInpuForm","getElementsByClassName","input","createInvoiceObj","generateInvoicePositions","positions","activatePrintInvoice","showCompleteInfo","saveSeller","preventDefault","saveSellerToLocal","loadSeller","openStorageModal","buildStorageSellersList","saveBuyer","saveBuyerToLocal","retrieveBuyers","buildStorageBuyersList","saveAccount","saveAccountToLocal","retrieveAccounts","buildStorageSellerAccountsList","saveItem","now","createdDate","getUTCFullYear","getUTCMonth","getUTCDate","saveItemToLocal","retrieveItems","buildStorageItemsList","deleteLocalStorageEntry","targetClasses","deleteSeller","deleteBuyer","deleteAccount","init","genBtn","sellerSaveBtn","sellerLoadBtn","buyerSaveBtn","buyerLoadTrigger","accountSaveBtn","accountLoadBtn","itemSaveBtn","itemLoadTrigger","storageListModalClose","fillInputForm","on"],"mappings":"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","file":"main.125baefe.map","sourceRoot":"..","sourcesContent":["/*\n * printThis v1.12.3\n * @desc Printing plug-in for jQuery\n * @author Jason Day\n *\n * Resources (based on) :\n *              jPrintArea: http://plugins.jquery.com/project/jPrintArea\n *              jqPrint: https://github.com/permanenttourist/jquery.jqprint\n *              Ben Nadal: http://www.bennadel.com/blog/1591-Ask-Ben-Print-Part-Of-A-Web-Page-With-jQuery.htm\n *\n * Licensed under the MIT licence:\n *              http://www.opensource.org/licenses/mit-license.php\n *\n * (c) Jason Day 2015\n *\n * Usage:\n *\n *  $(\"#mySelector\").printThis({\n *      debug: false,               // show the iframe for debugging\n *      importCSS: true,            // import page CSS\n *      importStyle: false,         // import style tags\n *      printContainer: true,       // grab outer container as well as the contents of the selector\n *      loadCSS: \"path/to/my.css\",  // path to additional css file - us an array [] for multiple\n *      pageTitle: \"\",              // add title to print page\n *      removeInline: false,        // remove all inline styles from print elements\n *      printDelay: 333,            // variable print delay\n *      header: null,               // prefix to html\n *      footer: null,               // postfix to html\n *      base: false,                // preserve the BASE tag, or accept a string for the URL\n *      formValues: true,           // preserve input/form values\n *      canvas: false,              // copy canvas elements (experimental)\n *      doctypeString: '...',       // enter a different doctype for older markup\n *      removeScripts: false,       // remove script tags from print content\n *      copyTagClasses: false       // copy classes from the html & body tag\n *  });\n *\n * Notes:\n *  - the loadCSS will load additional css (with or without @media print) into the iframe, adjusting layout\n */\n(function($) {\n  function appendContent($el, content) {\n    if (!content) return;\n\n    // Simple test for a jQuery element\n    $el.append(content.jquery ? content.clone() : content);\n  }\n\n  function appendBody($body, $element, opt) {\n    // Clone for safety and convenience\n    // Calls clone(withDataAndEvents = true) to copy form values.\n    var $content = $element.clone(opt.formValues);\n\n    if (opt.formValues) {\n      // Copy original select and textarea values to their cloned counterpart\n      // Makes up for inability to clone select and textarea values with clone(true)\n      copyValues($element, $content, 'select, textarea');\n    }\n\n    if (opt.removeScripts) {\n      $content.find('script').remove();\n    }\n\n    if (opt.printContainer) {\n      // grab $.selector as container\n      $content.appendTo($body);\n    } else {\n      // otherwise just print interior elements of container\n      $content.each(function() {\n        $(this)\n          .children()\n          .appendTo($body);\n      });\n    }\n  }\n\n  // Copies values from origin to clone for passed in elementSelector\n  function copyValues(origin, clone, elementSelector) {\n    var $originalElements = origin.find(elementSelector);\n\n    clone.find(elementSelector).each(function(index, item) {\n      $(item).val($originalElements.eq(index).val());\n    });\n  }\n\n  var opt;\n  $.fn.printThis = function(options) {\n    opt = $.extend({}, $.fn.printThis.defaults, options);\n    var $element = this instanceof jQuery ? this : $(this);\n\n    var strFrameName = 'printThis-' + new Date().getTime();\n\n    if (window.location.hostname !== document.domain && navigator.userAgent.match(/msie/i)) {\n      // Ugly IE hacks due to IE not inheriting document.domain from parent\n      // checks if document.domain is set by comparing the host name against document.domain\n      var iframeSrc =\n        'javascript:document.write(\"<head><script>document.domain=\\\\\"' +\n        document.domain +\n        '\\\\\";</s' +\n        'cript></head><body></body>\")';\n      var printI = document.createElement('iframe');\n      printI.name = 'printIframe';\n      printI.id = strFrameName;\n      printI.className = 'MSIE';\n      document.body.appendChild(printI);\n      printI.src = iframeSrc;\n    } else {\n      // other browsers inherit document.domain, and IE works if document.domain is not explicitly set\n      var $frame = $(\"<iframe id='\" + strFrameName + \"' name='printIframe' />\");\n      $frame.appendTo('body');\n    }\n\n    var $iframe = $('#' + strFrameName);\n\n    // show frame if in debug mode\n    if (!opt.debug)\n      $iframe.css({\n        position: 'absolute',\n        width: '0px',\n        height: '0px',\n        left: '-600px',\n        top: '-600px',\n      });\n\n    // $iframe.ready() and $iframe.load were inconsistent between browsers\n    setTimeout(function() {\n      // Add doctype to fix the style difference between printing and render\n      function setDocType($iframe, doctype) {\n        var win, doc;\n        win = $iframe.get(0);\n        win = win.contentWindow || win.contentDocument || win;\n        doc = win.document || win.contentDocument || win;\n        doc.open();\n        doc.write(doctype);\n        doc.close();\n      }\n\n      if (opt.doctypeString) {\n        setDocType($iframe, opt.doctypeString);\n      }\n\n      var $doc = $iframe.contents(),\n        $head = $doc.find('head'),\n        $body = $doc.find('body'),\n        $base = $('base'),\n        baseURL;\n\n      // add base tag to ensure elements use the parent domain\n      if (opt.base === true && $base.length > 0) {\n        // take the base tag from the original page\n        baseURL = $base.attr('href');\n      } else if (typeof opt.base === 'string') {\n        // An exact base string is provided\n        baseURL = opt.base;\n      } else {\n        // Use the page URL as the base\n        baseURL = document.location.protocol + '//' + document.location.host;\n      }\n\n      $head.append('<base href=\"' + baseURL + '\">');\n\n      // import page stylesheets\n      if (opt.importCSS)\n        $('link[rel=stylesheet]').each(function() {\n          var href = $(this).attr('href');\n          if (href) {\n            var media = $(this).attr('media') || 'all';\n            $head.append(\n              \"<link type='text/css' rel='stylesheet' href='\" + href + \"' media='\" + media + \"'>\"\n            );\n          }\n        });\n\n      // import style tags\n      if (opt.importStyle)\n        $('style').each(function() {\n          $head.append(this.outerHTML);\n        });\n\n      // add title of the page\n      if (opt.pageTitle) $head.append('<title>' + opt.pageTitle + '</title>');\n\n      // import additional stylesheet(s)\n      if (opt.loadCSS) {\n        if ($.isArray(opt.loadCSS)) {\n          jQuery.each(opt.loadCSS, function(index, value) {\n            $head.append(\"<link type='text/css' rel='stylesheet' href='\" + this + \"'>\");\n          });\n        } else {\n          $head.append(\"<link type='text/css' rel='stylesheet' href='\" + opt.loadCSS + \"'>\");\n        }\n      }\n\n      // copy 'root' tag classes\n      var tag = opt.copyTagClasses;\n      if (tag) {\n        tag = tag === true ? 'bh' : tag;\n        if (tag.indexOf('b') !== -1) {\n          $body.addClass($('body')[0].className);\n        }\n        if (tag.indexOf('h') !== -1) {\n          $doc.find('html').addClass($('html')[0].className);\n        }\n      }\n\n      // print header\n      appendContent($body, opt.header);\n\n      if (opt.canvas) {\n        // add canvas data-ids for easy access after cloning.\n        var canvasId = 0;\n        // .addBack('canvas') adds the top-level element if it is a canvas.\n        $element\n          .find('canvas')\n          .addBack('canvas')\n          .each(function() {\n            $(this).attr('data-printthis', canvasId++);\n          });\n      }\n\n      appendBody($body, $element, opt);\n\n      if (opt.canvas) {\n        // Re-draw new canvases by referencing the originals\n        $body.find('canvas').each(function() {\n          var cid = $(this).data('printthis'),\n            $src = $('[data-printthis=\"' + cid + '\"]');\n\n          this.getContext('2d').drawImage($src[0], 0, 0);\n\n          // Remove the markup from the original\n          $src.removeData('printthis');\n        });\n      }\n\n      // remove inline styles\n      if (opt.removeInline) {\n        // $.removeAttr available jQuery 1.7+\n        if ($.isFunction($.removeAttr)) {\n          $doc.find('body *').removeAttr('style');\n        } else {\n          $doc.find('body *').attr('style', '');\n        }\n      }\n\n      // print \"footer\"\n      appendContent($body, opt.footer);\n\n      setTimeout(function() {\n        if ($iframe.hasClass('MSIE')) {\n          // check if the iframe was created with the ugly hack\n          // and perform another ugly hack out of neccessity\n          window.frames['printIframe'].focus();\n          $head.append('<script>  window.print(); </s' + 'cript>');\n        } else {\n          // proper method\n          if (document.queryCommandSupported('print')) {\n            $iframe[0].contentWindow.document.execCommand('print', false, null);\n          } else {\n            $iframe[0].contentWindow.focus();\n            $iframe[0].contentWindow.print();\n          }\n        }\n\n        // remove iframe after print\n        if (!opt.debug) {\n          setTimeout(function() {\n            $iframe.remove();\n          }, 1000);\n        }\n      }, opt.printDelay);\n    }, 333);\n  };\n\n  // defaults\n  $.fn.printThis.defaults = {\n    debug: false, // show the iframe for debugging\n    importCSS: true, // import parent page css\n    importStyle: false, // import style tags\n    printContainer: false, // print outer container/$.selector\n    loadCSS: '', // load an additional css file - load multiple stylesheets with an array []\n    pageTitle: '', // add title to print page\n    removeInline: false, // remove all inline styles\n    printDelay: 150, // variable print delay\n    header: null, // prefix to html\n    footer: null, // postfix to html\n    formValues: true, // preserve input/form values\n    canvas: false, // copy canvas content (experimental)\n    base: false, // preserve the BASE tag, or accept a string for the URL\n    doctypeString: '<!DOCTYPE html>', // html doctype\n    removeScripts: false, // remove script tags before appending\n    copyTagClasses: false, // copy classes from the html & body tag\n  };\n})(jQuery);\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n","import './printThis';\nimport { v4 } from 'uuid';\nimport '../sass/main.scss';\n\nconst uiController = (function() {\n  // defining DOM elements\n  const DOMElements = {\n    // -------------------------------------------------------\n    // Invoice details input elements\n    // -------------------------------------------------------\n    dataInpuForm: document.querySelector('.data-form'),\n\n    // document data inputs\n    docTypeInp: document.querySelector('.data__doc-type'),\n    docNumInp: document.querySelector('.data__doc-number'),\n    docPlaceInp: document.querySelector('.data__doc-place'),\n    docDateInp: document.querySelector('.data__doc-date'),\n    docSellDateInp: document.querySelector('.data__doc-sell-date'),\n\n    // seller data inputs\n    sellerNameInp: document.querySelector('.data__seller-name'),\n    sellerStreetInp: document.querySelector('.data__seller-street'),\n    sellerCityInp: document.querySelector('.data__seller-city'),\n    sellerPostCodeInp: document.querySelector('.data__seller-post-code'),\n    sellerNipInp: document.querySelector('.data__seller-nip'),\n    sellerSaveBtn: document.querySelector('.btn--seller-save'),\n    sellerLoadBtn: document.querySelector('.btn--seller-load'),\n\n    // buyer data inputs\n    buyerNameInp: document.querySelector('.data__buyer-name'),\n    buyerStreetInp: document.querySelector('.data__buyer-street'),\n    buyerCityInp: document.querySelector('.data__buyer-city'),\n    buyerPostCodeInp: document.querySelector('.data__buyer-post-code'),\n    buyerNipInp: document.querySelector('.data__buyer-nip'),\n    buyerSaveBtn: document.querySelector('.btn--buyer-save'),\n    buyerLoadTrigger: document.querySelector('.btn--buyer-load'),\n\n    // payment terms inputs\n    payMethodInp: document.querySelector('.payment__method'),\n    payTermInp: document.querySelector('.payment__term'),\n    payAccountInp: document.querySelector('.payment__account'),\n    accountSaveBtn: document.querySelector('.btn--account-save'),\n    accountLoadBtn: document.querySelector('.btn--account-load'),\n\n    // draft positions inputs\n    itemNameInp: document.querySelector('.draft-item__name'),\n    itemUnitInp: document.querySelector('.draft-item__unit'),\n    itemQuantInp: document.querySelector('.draft-item__quantity'),\n    itemPriceInp: document.querySelector('.draft-item__price'),\n    itemNetValInp: document.querySelector('.draft-item__net-value'),\n    itemTaxRateInp: document.querySelector('.draft-item__tax-rate'),\n    itemTaxValInp: document.querySelector('.draft-item__tax-value'),\n    itemTotValInp: document.querySelector('.draft-item__total-value'),\n    itemSaveBtn: document.querySelector('.btn--item-save'),\n    itemLoadTrigger: document.querySelector('.btn--item-load'),\n    storageListModalClose: document.querySelector('.btn--close-storage-list'),\n\n    // draft add button\n    addBtn: document.querySelector('.btn--add-item'),\n\n    // draft itens table\n    draftItemConstructor: document.querySelector('.draft-item__constructor'),\n    draftItemTable: document.querySelector('.draft-added-items'),\n    drawtSumTable: document.querySelector('.draft__summary'),\n    itemDelBtn: document.querySelectorAll('.btn--item-del'),\n\n    // storage list modal\n    storageList: document.querySelector('.storage-list'),\n    storageListModal: document.querySelector('.storage-list__modal'),\n    storageListBackdrop: document.querySelector('.storage-list__backdrop'),\n\n    // button generate invoice\n    genBtn: document.querySelector('.btn--gen-inv'),\n    printBtn: document.querySelector('.btn--print-inv'),\n\n    // -------------------------------------------------------\n    //output invoice elements\n    // -------------------------------------------------------\n    invoice: document.querySelector('.invoice'),\n    // invoice heading\n    invType: document.querySelector('.invoice__type'),\n    invNum: document.querySelector('.invoice__number'),\n    invPlace: document.querySelector('.invoice__place'),\n    invSellDate: document.querySelector('.invoice__sell-date'),\n    invDate: document.querySelector('.invoice__place-date'),\n    // invoice seller details\n    invSellerName: document.querySelector('.invoice__seller-name'),\n    invSellerStr: document.querySelector('.invoice__seller-street'),\n    invSellerCity: document.querySelector('.invoice__seller-city'),\n    invSellerPostCode: document.querySelector('.seller__post-code'),\n    invSellerNip: document.querySelector('.invoice__seller-nip'),\n    // invoice buyer details\n    invBuyerName: document.querySelector('.invoice__buyer-name'),\n    invBuyerStr: document.querySelector('.invoice__buyer-street'),\n    invBuyerCity: document.querySelector('.invoice__buyer-city'),\n    invBuyerPostCode: document.querySelector('.buyer__post-code'),\n    invBuyerNip: document.querySelector('.invoice__buyer-nip'),\n    // Invoice positions items table\n    invoicePositionsTable: document.querySelector('.invoice__positions-place'),\n    invoicePositionsTableSum: document.querySelector('.invoice__positions-summary'),\n    // invoice final details\n    invFinalToPay: document.querySelector('.invoice__final-to-pay'),\n    invFinalPayMethod: document.querySelector('.invoice__final-payment-method'),\n    invFinalPayTerm: document.querySelector('.invoice__final-payment-term'),\n    invFinalAccount: document.querySelector('.invoice__final-payment__account'),\n  };\n\n  // displaying draft item taxes in draft item constructor form\n  const displayDraftItemNotFilledInputs = function() {\n    if (DOMElements.itemQuantInp.value !== '' && DOMElements.itemPriceInp.value !== '') {\n      DOMElements.itemNetValInp.value = (\n        DOMElements.itemPriceInp.valueAsNumber * DOMElements.itemQuantInp.valueAsNumber\n      ).toFixed(2);\n      DOMElements.itemTaxValInp.value = (\n        DOMElements.itemQuantInp.valueAsNumber *\n        DOMElements.itemPriceInp.valueAsNumber *\n        parseFloat(DOMElements.itemTaxRateInp.value / 100)\n      ).toFixed(2);\n      DOMElements.itemTotValInp.value = (\n        DOMElements.itemNetValInp.valueAsNumber + DOMElements.itemTaxValInp.valueAsNumber\n      ).toFixed(2);\n      DOMElements.itemTotalPriceInp.value = (\n        DOMElements.itemPriceInp.valueAsNumber +\n        DOMElements.itemPriceInp.valueAsNumber * parseFloat(DOMElements.itemTaxRateInp.value / 100)\n      ).toFixed(2);\n    }\n  };\n\n  // clearing draft item input fields\n  const clearDraftItemFieds = function() {\n    DOMElements.draftItemConstructor.reset();\n    DOMElements.itemNameInp.focus();\n  };\n\n  // add item to draft table\n  const addItemToDraftItemsList = function(id) {\n    const item = storageController.draftItemsData.items.find(item => item.id === id);\n    // create newtable row\n    const newRow = document.createElement('tr');\n    newRow.classList.add('draft__position');\n    newRow.id = `draft-item-${item.id}`;\n    newRow.dataset.identifier = `${item.id}`;\n    newRow.innerHTML = `\n      <td class=\"draft__item-delete\"><button class=\"btn btn--item-del\">usuń</button></td>\n      <td class=\"draft__item-name\">${item.name}</td>\n      <td class=\"draft__item-unit\">${item.unit}</td>\n      <td class=\"draft__item-quantity\">${item.quantity.toFixed(2)}</td>\n      <td class=\"draft__item-price\">${item.netPrice.toFixed(2)}</td>\n      <td class=\"draft__item-net-value\">${item.netValue.toFixed(2)}</td>\n      <td class=\"draft__item-tax-rate\">${item.taxRate}%</td>\n      <td class=\"draft__item-tax-value\">${item.taxValue.toFixed(2)}</td>\n      <td class=\"draft__item-total-value\">${item.total.toFixed(2)}</td>`;\n    DOMElements.draftItemTable.appendChild(newRow);\n  };\n\n  // helper function for cleat innner HTML in given element\n  const clearInnerHtml = function(elem) {\n    elem.innerHTML = '';\n  };\n\n  // building draft items table from start\n  const rebuildDraftItemsTable = function() {\n    clearInnerHtml(DOMElements.draftItemTable);\n    // for each drafted item perform same action\n    storageController.draftItemsData.items.forEach(item => {\n      // create newtable row\n      const newRow = document.createElement('tr');\n      newRow.classList.add('draft__position');\n      newRow.id = `draft-item-${item.id}`;\n      newRow.dataset.identifier = `${item.id}`;\n      newRow.innerHTML = `\n      <td class=\"draft__item-delete\"><button class=\"btn btn--item-del\">usuń</button></td>\n      <td class=\"draft__item-name\">${item.name}</td>\n      <td class=\"draft__item-unit\">${item.unit}</td>\n      <td class=\"draft__item-quantity\">${item.quantity.toFixed(2)}</td>\n      <td class=\"draft__item-price\">${item.netPrice.toFixed(2)}</td>\n      <td class=\"draft__item-net-value\">${item.netValue.toFixed(2)}</td>\n      <td class=\"draft__item-tax-rate\">${item.taxRate}%</td>\n      <td class=\"draft__item-tax-value\">${item.taxValue.toFixed(2)}</td>\n      <td class=\"draft__item-total-value\">${item.total.toFixed(2)}</td>`;\n      DOMElements.draftItemTable.appendChild(newRow);\n    });\n  };\n\n  // building draft sum values in draft table\n  const buildDraftSumValues = function() {\n    // remove all content from summary draft table\n    clearInnerHtml(DOMElements.drawtSumTable);\n\n    const draftSumRow = document.createElement('tr');\n    draftSumRow.classList.add('draft__summary-row');\n    draftSumRow.innerHTML = `\n    <th colspan=\"5\" class=\"draft__summary-legend\">Razem:</th>\n    <th class=\"draft__summary-net-value\">${storageController.draftItemsData.summaries.totalNetVal.toFixed(\n      2\n    )}</th>\n    <th class=\"\"></th>\n    <th class=\"draft__summary-vat-value\">${storageController.draftItemsData.summaries.totalTaxVal.toFixed(\n      2\n    )}</th>\n    <th class=\"draft__summary-total\">${storageController.draftItemsData.summaries.total.toFixed(\n      2\n    )}</th>`;\n    DOMElements.drawtSumTable.appendChild(draftSumRow);\n  };\n\n  const generateDraftSumRow = function(areTaxRateItems, checkingTaxRate) {\n    const checkedTaxRate =\n      storageController.draftItemsData.summaries.taxRates[`tax${checkingTaxRate}`];\n    if (areTaxRateItems) {\n      const taxRatefinalRow = document.createElement('tr');\n      taxRatefinalRow.classList.add('draft__summary-row');\n      taxRatefinalRow.innerHTML = `\n      <td colspan=\"5\" class=\"draft__summary-legend\">W tym:</td>\n      <td class=\"draft__summary-net-value\">${checkedTaxRate.netValue.toFixed(2)}</td>\n      <td class=\"\">${checkingTaxRate}%</td>\n      <td class=\"draft__summary-vat-value\">${checkedTaxRate.taxValue.toFixed(2)}</td>\n      <td class=\"draft__summary-total\">${checkedTaxRate.taxTotal.toFixed(2)}</td>`;\n      DOMElements.drawtSumTable.appendChild(taxRatefinalRow);\n    }\n  };\n\n  const generateInvoice = function() {\n    const invoiceObj = storageController.invoices.invoice.details;\n    // inserting details of the invoice\n    DOMElements.invType.textContent = `${invoiceObj.document.type}`;\n    DOMElements.invNum.textContent = `nr ${invoiceObj.document.number}`;\n    DOMElements.invPlace.textContent = `Miejsce wystawienia: ${invoiceObj.document.place}`;\n    DOMElements.invDate.textContent = `Data wystawienia: ${invoiceObj.document.date}`;\n    DOMElements.invSellDate.textContent = `Data sprzedaży: ${invoiceObj.document.sellDate}`;\n    DOMElements.invSellerName.textContent = `${invoiceObj.seller.name}`;\n    DOMElements.invSellerStr.textContent = `${invoiceObj.seller.street}`;\n    DOMElements.invSellerCity.textContent = `${invoiceObj.seller.city}`;\n    DOMElements.invSellerPostCode.textContent = `${invoiceObj.seller.postCode}`;\n    DOMElements.invSellerNip.textContent = `NIP: ${invoiceObj.seller.nip}`;\n    DOMElements.invBuyerName.textContent = `${invoiceObj.buyer.name}`;\n    DOMElements.invBuyerStr.textContent = `${invoiceObj.buyer.street}`;\n    DOMElements.invBuyerCity.textContent = `${invoiceObj.buyer.city}`;\n    DOMElements.invBuyerPostCode.textContent = `${invoiceObj.buyer.postCode}`;\n    DOMElements.invBuyerNip.textContent = `NIP: ${invoiceObj.buyer.nip}`;\n    DOMElements.invFinalToPay.textContent = `Do zapłaty: ${invoiceObj.payment.toPay.toFixed(\n      2\n    )} PLN`;\n    DOMElements.invFinalPayMethod.textContent = `Sposób płatności: ${invoiceObj.payment.method}`;\n    DOMElements.invFinalPayTerm.textContent = `Termin płatności: ${invoiceObj.payment.term}`;\n    // print account number if choosen method is different than cash\n    if (invoiceObj.payment.method !== 'gotówka') {\n      DOMElements.invFinalAccount.textContent = `Konto: ${invoiceObj.payment.account}`;\n    } else {\n      DOMElements.invFinalAccount.textContent = ``;\n    }\n  };\n\n  const generateInvoicePositions = function(positionsArray) {\n    clearInnerHtml(DOMElements.invoicePositionsTable);\n    clearInnerHtml(DOMElements.invoicePositionsTableSum);\n\n    positionsArray.forEach(item => {\n      const newRow = document.createElement('tr');\n      newRow.classList.add('invoice__position');\n      newRow.id = `invoice-item${item.id}`;\n      newRow.dataset.identifier = `${item.id}`;\n      newRow.innerHTML = `\n          <td class=\"invoice__item-lp\">${positionsArray.indexOf(item) + 1}</td>\n          <td class=\"invoice__item-name\">${item.name}</td>\n          <td class=\"invoice__item-unit\">${item.unit}</td>\n          <td class=\"invoice__item-currency\">PLN</td>\n          <td class=\"invoice__item-quantity\">${item.quantity.toFixed(2)}</td>\n          <td class=\"invoice__item-price\">${item.netPrice.toFixed(2)}</td>\n          <td class=\"invoice__item-net-value\">${item.netValue.toFixed(2)}</td>\n          <td class=\"invoice__item-tax-rate\">${item.taxRate}%</td>\n          <td class=\"invoice__item-tax-value\">${item.taxValue.toFixed(2)}</td>\n          <td class=\"invoice__item-total-value\">${item.total.toFixed(2)}</td>`;\n      DOMElements.invoicePositionsTable.appendChild(newRow);\n    });\n\n    // invoice items summaries from draft items summaries section\n    const totalNetVal = storageController.draftItemsData.summaries.totalNetVal;\n    const totalTaxVal = storageController.draftItemsData.summaries.totalTaxVal;\n    const total = storageController.draftItemsData.summaries.total;\n\n    const invoiceSumRow = document.createElement('tr');\n    invoiceSumRow.classList.add('invoice__summary-row');\n    invoiceSumRow.innerHTML = `\n    <th colspan=\"6\" class=\"invoice__summary-legend\">Razem:</th>\n    <th class=\"invoice__summary-net-value\">${totalNetVal.toFixed(2)}</th>\n    <th class=\"\"></th>\n    <th class=\"invoice__summary-vat-value\">${totalTaxVal.toFixed(2)}</th>\n    <th class=\"invoice__summary-total\">${total.toFixed(2)}</th>`;\n    DOMElements.invoicePositionsTable.appendChild(invoiceSumRow);\n\n    // generate boolean values for check it there are some products with specific tax rates\n    const isTax23 = positionsArray.some(item => item.taxRate === 23);\n    const isTax8 = positionsArray.some(item => item.taxRate === 8);\n    const isTax5 = positionsArray.some(item => item.taxRate === 5);\n    const isTax3 = positionsArray.some(item => item.taxRate === 3);\n    const isTax00 = positionsArray.some(item => item.taxRate === 0);\n\n    //  generate summaries by vat rate\n    generateInvoiceSumRow(isTax23, 23);\n    generateInvoiceSumRow(isTax8, 8);\n    generateInvoiceSumRow(isTax5, 5);\n    generateInvoiceSumRow(isTax3, 3);\n    generateInvoiceSumRow(isTax00, 0);\n  };\n\n  // generate invoice positions sum row for each existing in draft items tavle tax rate determined by first argument the boolean value\n  const generateInvoiceSumRow = function(isTaxRate, checkingTaxRate) {\n    const checkedTaxRate =\n      storageController.draftItemsData.summaries.taxRates[`tax${checkingTaxRate}`];\n    if (isTaxRate) {\n      const vatRatefinalrow = document.createElement('tr');\n      vatRatefinalrow.classList.add('invoice__summary-row');\n      vatRatefinalrow.innerHTML = `\n        <td colspan=\"6\" class=\"invoice__summary-legend\">W tym:</td>\n        <td class=\"invoice__summary-net-value\">${checkedTaxRate.netValue.toFixed(2)}</td>\n        <td class=\"\">${checkingTaxRate}%</td>\n        <td class=\"invoice__summary-vat-value\">${checkedTaxRate.taxValue.toFixed(2)}</td>\n        <td class=\"invoice__summary-total\">${checkedTaxRate.taxTotal.toFixed(2)}</td>`;\n      DOMElements.invoicePositionsTable.appendChild(vatRatefinalrow);\n    }\n  };\n\n  // showing modal complete\n  const showCompleteInfo = function() {\n    const competionModal = document.querySelector('.not-completed-form-modal');\n    competionModal.style.display = 'block';\n    setTimeout(() => competionModal.classList.add('completion-modal-active'), 10);\n\n    setTimeout(hideCompletionModal, 3000);\n\n    function hideCompletionModal() {\n      competionModal.classList.remove('completion-modal-active');\n      setTimeout(() => (competionModal.style.display = 'none'), 250);\n    }\n  };\n\n  const activatePrintInvoice = function() {\n    DOMElements.printBtn.removeAttribute('disabled');\n  };\n\n  const closeStorageModal = function() {\n    DOMElements.storageListModal.classList.remove('modal-active');\n    setTimeout(() => {\n      DOMElements.storageListModal.style.display = 'none';\n    }, 250);\n    hideBackdropModal();\n    DOMElements.storageList.innerHTML = '';\n  };\n\n  const openStorageModal = function() {\n    displayBackdropModal();\n    DOMElements.storageListModal.style.display = 'block';\n    setTimeout(() => {\n      DOMElements.storageListModal.classList.add('modal-active');\n    }, 10);\n  };\n\n  const hideBackdropModal = function() {\n    DOMElements.storageListBackdrop.classList.remove('backdrop-active');\n    setTimeout(() => {\n      DOMElements.storageListBackdrop.style = 'display: none';\n    }, 250);\n  };\n\n  const displayBackdropModal = function() {\n    DOMElements.storageListBackdrop.style = 'display: block';\n    setTimeout(() => {\n      DOMElements.storageListBackdrop.classList.add('backdrop-active');\n    }, 10);\n  };\n\n  const fillInputForm = function(e) {\n    if (e.target.classList.contains('btn--load-item')) {\n      const items = JSON.parse(localStorage.getItem('items'));\n      const item = items[e.target.dataset.itemName];\n      DOMElements.itemNameInp.value = item.name;\n      DOMElements.itemUnitInp.value = item.unit;\n      DOMElements.itemPriceInp.value = item.netPrice;\n      DOMElements.itemTaxRateInp.value = item.taxRate;\n      closeStorageModal();\n      DOMElements.itemQuantInp.focus();\n    }\n    if (e.target.classList.contains('btn--load-seller')) {\n      const sellers = JSON.parse(localStorage.getItem('sellers'));\n      const seller = sellers[e.target.dataset.sellerName];\n      DOMElements.sellerNameInp.value = seller.name;\n      DOMElements.sellerStreetInp.value = seller.street;\n      DOMElements.sellerCityInp.value = seller.city;\n      DOMElements.sellerPostCodeInp.value = seller.postCode;\n      DOMElements.sellerNipInp.value = seller.nip;\n      closeStorageModal();\n    }\n    if (e.target.classList.contains('btn--load-buyer')) {\n      const buyers = JSON.parse(localStorage.getItem('buyers'));\n      const buyer = buyers[e.target.dataset.buyerName];\n      DOMElements.buyerNameInp.value = buyer.name;\n      DOMElements.buyerStreetInp.value = buyer.street;\n      DOMElements.buyerCityInp.value = buyer.city;\n      DOMElements.buyerPostCodeInp.value = buyer.postCode;\n      DOMElements.buyerNipInp.value = buyer.nip;\n      closeStorageModal();\n    }\n    if (e.target.classList.contains('btn--load-account')) {\n      const accounts = JSON.parse(localStorage.getItem('accounts'));\n      const account = accounts[e.target.dataset.accountNumber];\n      DOMElements.payAccountInp.value = account.number;\n      closeStorageModal();\n    }\n  };\n\n  const buildStorageSellersList = function() {\n    const localStorageBuyers = localStorage.getItem('sellers')\n      ? JSON.parse(localStorage.getItem('sellers'))\n      : {};\n    if (Object.keys(localStorageBuyers).length > 0) {\n      const sellers = Object.entries(localStorageBuyers);\n      sellers.forEach(seller => {\n        const li = document.createElement('li');\n        li.classList.add('storage-list__item');\n\n        const loadButton = document.createElement('button');\n        loadButton.classList.add('btn');\n        loadButton.classList.add('btn--choose');\n        loadButton.classList.add('btn--load-seller');\n        loadButton.dataset.sellerName = seller[1].name;\n        loadButton.textContent = 'Wybierz';\n\n        const deleteButton = document.createElement('button');\n        deleteButton.classList.add('btn');\n        deleteButton.classList.add('btn--choose');\n        deleteButton.classList.add('btn--delete-seller');\n        deleteButton.dataset.sellerName = seller[1].name;\n        deleteButton.textContent = 'Usuń';\n\n        const nameSpan = document.createElement('span');\n        nameSpan.classList.add('storage-list__seller-name');\n        nameSpan.textContent = seller[1].name;\n\n        const streetSpan = document.createElement('span');\n        streetSpan.classList.add('storage-list__seller-street');\n        streetSpan.textContent = seller[1].street;\n\n        const citySpan = document.createElement('span');\n        citySpan.classList.add('storage-list__seller-city');\n        citySpan.textContent = seller[1].city;\n\n        const nipSpan = document.createElement('span');\n        nipSpan.classList.add('storage-list__seller-nip');\n        nipSpan.textContent = seller[1].nip;\n\n        li.appendChild(loadButton);\n        li.appendChild(deleteButton);\n        li.appendChild(nameSpan);\n        li.appendChild(streetSpan);\n        li.appendChild(citySpan);\n        li.appendChild(nipSpan);\n\n        DOMElements.storageList.appendChild(li);\n      });\n    } else {\n      noLocalStorageDataInfo('Nie ma żadnych sprzedawców zapisanych w twojej przeglądarce.');\n    }\n  };\n\n  const buildStorageBuyersList = function() {\n    const localStorageBuyers = localStorage.getItem('buyers')\n      ? JSON.parse(localStorage.getItem('buyers'))\n      : {};\n    if (Object.keys(localStorageBuyers).length > 0) {\n      const buyers = Object.entries(localStorageBuyers);\n      buyers.forEach(buyer => {\n        const li = document.createElement('li');\n        li.classList.add('storage-list__item');\n\n        const loadButton = document.createElement('button');\n        loadButton.classList.add('btn');\n        loadButton.classList.add('btn--choose');\n        loadButton.classList.add('btn--load-buyer');\n        loadButton.dataset.buyerName = buyer[1].name;\n        loadButton.textContent = 'Wybierz';\n\n        const deleteButton = document.createElement('button');\n        deleteButton.classList.add('btn');\n        deleteButton.classList.add('btn--choose');\n        deleteButton.classList.add('btn--delete-buyer');\n        deleteButton.dataset.buyerName = buyer[1].name;\n        deleteButton.textContent = 'Usuń';\n\n        const nameSpan = document.createElement('span');\n        nameSpan.classList.add('storage-list__buyer-name');\n        nameSpan.textContent = buyer[1].name;\n\n        const streetSpan = document.createElement('span');\n        streetSpan.classList.add('storage-list__buyer-street');\n        streetSpan.textContent = buyer[1].street;\n\n        const citySpan = document.createElement('span');\n        citySpan.classList.add('storage-list__buyer-city');\n        citySpan.textContent = buyer[1].city;\n\n        const nipSpan = document.createElement('span');\n        nipSpan.classList.add('storage-list__buyer-nip');\n        nipSpan.textContent = buyer[1].nip;\n\n        li.appendChild(loadButton);\n        li.appendChild(deleteButton);\n        li.appendChild(nameSpan);\n        li.appendChild(streetSpan);\n        li.appendChild(citySpan);\n        li.appendChild(nipSpan);\n\n        DOMElements.storageList.appendChild(li);\n      });\n    } else {\n      noLocalStorageDataInfo('Nie ma żadnych kontrahentów zapisanych w twojej przeglądarce.');\n    }\n  };\n\n  const buildStorageSellerAccountsList = function(accounts) {\n    const localStorageAccounts = localStorage.getItem('accounts')\n      ? JSON.parse(localStorage.getItem('accounts'))\n      : {};\n    if (Object.keys(localStorageAccounts).length > 0) {\n      const accounts = Object.entries(localStorageAccounts);\n      accounts.forEach(account => {\n        const li = document.createElement('li');\n        li.classList.add('storage-list__item');\n\n        const loadButton = document.createElement('button');\n        loadButton.classList.add('btn');\n        loadButton.classList.add('btn--choose');\n        loadButton.classList.add('btn--load-account');\n        loadButton.dataset.accountNumber = account[1].number;\n        loadButton.textContent = 'Wybierz';\n\n        const deleteButton = document.createElement('button');\n        deleteButton.classList.add('btn');\n        deleteButton.classList.add('btn--choose');\n        deleteButton.classList.add('btn--delete-account');\n        deleteButton.dataset.accountNumber = account[1].number;\n        deleteButton.textContent = 'Usuń';\n\n        const accountNumberSpan = document.createElement('span');\n        accountNumberSpan.classList.add('storage-list__account-number');\n        accountNumberSpan.textContent = 'Numer Konta: ' + account[1].number;\n\n        li.appendChild(loadButton);\n        li.appendChild(deleteButton);\n        li.appendChild(accountNumberSpan);\n\n        DOMElements.storageList.appendChild(li);\n      });\n    } else {\n      noLocalStorageDataInfo('Nie ma żadnych numerów kont zapisanych w twojej przeglądarce.');\n    }\n  };\n\n  const buildStorageItemsList = function() {\n    const localStorageItems = localStorage.getItem('items')\n      ? JSON.parse(localStorage.getItem('items'))\n      : {};\n    if (Object.keys(localStorageItems).length > 0) {\n      const items = Object.entries(localStorageItems);\n      items.forEach(item => {\n        const li = document.createElement('li');\n        li.classList.add('storage-list__item');\n\n        const loadButton = document.createElement('button');\n        loadButton.classList.add('btn');\n        loadButton.classList.add('btn--choose');\n        loadButton.classList.add('btn--load-item');\n        loadButton.dataset.itemName = item[1].name;\n        loadButton.textContent = 'Wybierz';\n\n        const deleteButton = document.createElement('button');\n        deleteButton.classList.add('btn');\n        deleteButton.classList.add('btn--choose');\n        deleteButton.classList.add('btn--delete-item');\n        deleteButton.dataset.itemName = item[1].name;\n        deleteButton.textContent = 'Usuń';\n\n        const nameSpan = document.createElement('span');\n        nameSpan.classList.add('storage-list__item-name');\n        nameSpan.textContent = item[1].name;\n\n        const priceSpan = document.createElement('span');\n        priceSpan.classList.add('storage-list__item-price');\n        priceSpan.textContent = item[1].netPrice + 'PLN/' + item[1].unit;\n\n        const taxSpan = document.createElement('span');\n        taxSpan.classList.add('storage-list__item-tax');\n        taxSpan.textContent = item[1].taxRate + '%';\n\n        const dateSpan = document.createElement('span');\n        dateSpan.classList.add('storage-list__item-date');\n        dateSpan.textContent = '(zapisano: ' + item[1].date + ')';\n\n        li.appendChild(loadButton);\n        li.appendChild(deleteButton);\n        li.appendChild(nameSpan);\n        li.appendChild(priceSpan);\n        li.appendChild(taxSpan);\n        li.appendChild(dateSpan);\n        DOMElements.storageList.appendChild(li);\n      });\n    } else {\n      noLocalStorageDataInfo('Nie ma żadnych produktów zapisanych w twojej przeglądarce.');\n    }\n  };\n\n  const noLocalStorageDataInfo = function(message) {\n    const noDataInfo = document.createElement('h3');\n    noDataInfo.classList.add('storage-list__no-data-info');\n    noDataInfo.textContent = message;\n\n    DOMElements.storageList.appendChild(noDataInfo);\n  };\n\n  const hideListItem = function(element) {\n    element.addEventListener('transitionend', e => {\n      console.log(e.propertyName);\n      if (e.propertyName === 'opacity') {\n        element.style.display = 'none';\n      }\n    });\n\n    element.classList.add('fade-up');\n  };\n  /*++++++++++++++++++++++++++++++++++++++++++++++++++++++\n  Revealed methods \n  ----------------------------------------------------*/\n  return {\n    DOMElements,\n    displayDraftItemNotFilledInputs,\n    clearDraftItemFieds,\n    rebuildDraftItemsTable,\n    addItemToDraftItemsList,\n    generateDraftSumRow,\n    buildDraftSumValues,\n    generateInvoice,\n    generateInvoicePositions,\n    showCompleteInfo,\n    activatePrintInvoice,\n    closeStorageModal,\n    openStorageModal,\n    hideBackdropModal,\n    displayBackdropModal,\n    fillInputForm,\n    buildStorageItemsList,\n    buildStorageSellerAccountsList,\n    buildStorageBuyersList,\n    buildStorageSellersList,\n    noLocalStorageDataInfo,\n    hideListItem,\n  };\n})();\n\n/*-----------------------------------------------------\n  Storage Controller \n  ----------------------------------------------------*/\n\nconst storageController = (function() {\n  const draftItemsData = {\n    items: [],\n    summaries: {\n      total: 0,\n      totalNetVal: 0,\n      totalTaxVal: 0,\n      taxRates: {\n        tax23: {\n          netValue: 0,\n          taxValue: 0,\n          taxTotal: 0,\n        },\n        tax8: {\n          netValue: 0,\n          taxValue: 0,\n          taxTotal: 0,\n        },\n        tax5: {\n          netValue: 0,\n          taxValue: 0,\n          taxTotal: 0,\n        },\n        tax3: {\n          netValue: 0,\n          taxValue: 0,\n          taxTotal: 0,\n        },\n        tax0: {\n          netValue: 0,\n          taxValue: 0,\n          taxTotal: 0,\n        },\n      },\n    },\n  };\n\n  const invoices = {\n    invoice: {},\n  };\n\n  const DOMElements = uiController.DOMElements;\n\n  const createInvoiceObj = function() {\n    const invoice = {\n      details: {\n        document: {\n          type: DOMElements.docTypeInp.value,\n          number: DOMElements.docNumInp.value,\n          place: DOMElements.docPlaceInp.value,\n          date: DOMElements.docDateInp.value,\n          sellDate: DOMElements.docSellDateInp.value,\n        },\n        seller: {\n          name: DOMElements.sellerNameInp.value,\n          street: DOMElements.sellerStreetInp.value,\n          city: DOMElements.sellerCityInp.value,\n          postCode: DOMElements.sellerPostCodeInp.value,\n          nip: DOMElements.sellerNipInp.value,\n        },\n        buyer: {\n          name: DOMElements.buyerNameInp.value,\n          street: DOMElements.buyerStreetInp.value,\n          city: DOMElements.buyerCityInp.value,\n          postCode: DOMElements.buyerPostCodeInp.value,\n          nip: DOMElements.buyerNipInp.value,\n        },\n        payment: {\n          toPay: draftItemsData.summaries.total,\n          method: DOMElements.payMethodInp.value,\n          term: DOMElements.payTermInp.value,\n          account: DOMElements.payAccountInp.value,\n        },\n      },\n      positions: draftItemsData.items,\n    };\n    invoices.invoice = invoice;\n  };\n\n  const deleteDraftItem = function(delID) {\n    draftItemsData.items = draftItemsData.items.filter(item => item.id != delID);\n  };\n\n  const createNewItem = function(id) {\n    const newItem = {\n      // asigning values to newitem\n      id: id,\n      name: DOMElements.itemNameInp.value,\n      unit: DOMElements.itemUnitInp.value,\n      quantity: DOMElements.itemQuantInp.valueAsNumber,\n      netPrice: DOMElements.itemPriceInp.valueAsNumber,\n      taxRate: parseFloat(DOMElements.itemTaxRateInp.value),\n      get netValue() {\n        return this.netPrice * this.quantity;\n      },\n      get taxValue() {\n        return this.netPrice * this.quantity * (this.taxRate / 100);\n      },\n      get total() {\n        return this.netPrice * this.quantity + this.netPrice * this.quantity * (this.taxRate / 100);\n      },\n    };\n    draftItemsData.items.push(newItem);\n  };\n\n  const calculateDraftItemsTotals = function() {\n    const draftItemsTotal = draftItemsData.items.reduce((acc, item) => {\n      return acc + item.total;\n    }, 0);\n    const draftItemsTotalNetValue = draftItemsData.items.reduce((acc, item) => {\n      return acc + item.netValue;\n    }, 0);\n    const draftItemsTotalTaxValue = draftItemsData.items.reduce((acc, item) => {\n      return acc + item.taxValue;\n    }, 0);\n\n    draftItemsData.summaries.total = draftItemsTotal;\n    draftItemsData.summaries.totalNetVal = draftItemsTotalNetValue;\n    draftItemsData.summaries.totalTaxVal = draftItemsTotalTaxValue;\n  };\n\n  const claculateDraftTaxRatesValues = function(areTaxRateItems, checkingTaxRate) {\n    if (areTaxRateItems) {\n      const taxRateItemsArr = draftItemsData.items.filter(item => item.taxRate === checkingTaxRate);\n      const taxRateNetValue = taxRateItemsArr.reduce((acc, item) => {\n        return acc + item.netValue;\n      }, 0);\n      const taxRateTax = taxRateItemsArr.reduce((acc, item) => {\n        return acc + item.taxValue;\n      }, 0);\n      const taxRateTotal = taxRateItemsArr.reduce((acc, item) => {\n        return acc + item.total;\n      }, 0);\n\n      draftItemsData.summaries.taxRates[`tax${checkingTaxRate}`].taxValue = taxRateTax;\n      draftItemsData.summaries.taxRates[`tax${checkingTaxRate}`].taxTotal = taxRateTotal;\n      draftItemsData.summaries.taxRates[`tax${checkingTaxRate}`].netValue = taxRateNetValue;\n    }\n  };\n\n  // creating vat rates summaries in storage controller and building summaries rows in draft items table\n  const createDraftVatRatesValues = function() {\n    // boolean values for check if there are some products with specific tax rates\n    const isTax00 = draftItemsData.items.some(item => item.taxRate === 0);\n    const isTax3 = draftItemsData.items.some(item => item.taxRate === 3);\n    const isTax5 = draftItemsData.items.some(item => item.taxRate === 5);\n    const isTax8 = draftItemsData.items.some(item => item.taxRate === 8);\n    const isTax23 = draftItemsData.items.some(item => item.taxRate === 23);\n\n    // calculate summary valuest for each vat rate\n    claculateDraftTaxRatesValues(isTax00, 0);\n    claculateDraftTaxRatesValues(isTax3, 3);\n    claculateDraftTaxRatesValues(isTax5, 5);\n    claculateDraftTaxRatesValues(isTax8, 8);\n    claculateDraftTaxRatesValues(isTax23, 23);\n\n    // create summary row for each existing vat rate\n    uiController.generateDraftSumRow(isTax00, 0);\n    uiController.generateDraftSumRow(isTax3, 3);\n    uiController.generateDraftSumRow(isTax5, 5);\n    uiController.generateDraftSumRow(isTax8, 8);\n    uiController.generateDraftSumRow(isTax23, 23);\n  };\n\n  const saveSellerToLocal = function(seller) {\n    let sellers = {};\n    if (localStorage.getItem('sellers')) {\n      sellers = JSON.parse(localStorage.getItem('sellers'));\n    }\n\n    sellers[seller.name] = seller;\n\n    localStorage.setItem('sellers', JSON.stringify(sellers));\n  };\n\n  const saveBuyerToLocal = function(buyer) {\n    let buyers = {};\n    if (localStorage.getItem('buyers')) {\n      buyers = JSON.parse(localStorage.getItem('buyers'));\n    }\n\n    buyers[buyer.name] = buyer;\n\n    localStorage.setItem('buyers', JSON.stringify(buyers));\n  };\n\n  const saveItemToLocal = function(item) {\n    let items = {};\n    if (localStorage.getItem('items')) {\n      items = JSON.parse(localStorage.getItem('items'));\n    }\n\n    items[item.name] = item;\n\n    localStorage.setItem('items', JSON.stringify(items));\n  };\n  const saveAccountToLocal = function(account) {\n    let accounts = {};\n    if (localStorage.getItem('accounts')) {\n      accounts = JSON.parse(localStorage.getItem('accounts'));\n    }\n\n    accounts[account.number] = account;\n\n    localStorage.setItem('accounts', JSON.stringify(accounts));\n  };\n\n  const deleteSeller = function(sellerName) {\n    const sellers = JSON.parse(localStorage.getItem('sellers'));\n    delete sellers[sellerName];\n    localStorage.setItem('sellers', JSON.stringify(sellers));\n  };\n\n  const deleteBuyer = function(buyerName) {\n    const buyers = JSON.parse(localStorage.getItem('buyers'));\n    delete buyers[buyerName];\n    localStorage.setItem('buyers', JSON.stringify(buyers));\n  };\n\n  const deleteAccount = function(account) {\n    const accounts = JSON.parse(localStorage.getItem('accounts'));\n    delete accounts[account];\n    localStorage.setItem('accounts', JSON.stringify(accounts));\n  };\n\n  const deleteItem = function(name) {\n    const items = JSON.parse(localStorage.getItem('items'));\n    delete items[name];\n    localStorage.setItem('items', JSON.stringify(items));\n  };\n\n  /*++++++++++++++++++++++++++++++++++++++++++++++++++++++\n  Revealed methods \n  ----------------------------------------------------*/\n  return {\n    invoices,\n    draftItemsData,\n    createNewItem,\n    deleteDraftItem,\n    createDraftVatRatesValues,\n    createInvoiceObj,\n    calculateDraftItemsTotals,\n    saveSellerToLocal,\n    saveBuyerToLocal,\n    saveItemToLocal,\n    saveAccountToLocal,\n    deleteSeller,\n    deleteBuyer,\n    deleteAccount,\n    deleteItem,\n  };\n})();\n\n/*-----------------------------------------------------\n  App Controller\n----------------------------------------------------*/\n\nconst appController = (function(StorageCtrl, UiCtrl) {\n  const DOMElements = UiCtrl.DOMElements;\n\n  const loadEventListeners = function() {\n    // generate invoice event listener\n    DOMElements.genBtn.addEventListener('click', generateInvoice);\n    // event listeners for draft section\n    DOMElements.addBtn.addEventListener('click', addItem);\n    DOMElements.itemQuantInp.addEventListener('change', calculateDraftItem);\n    DOMElements.itemPriceInp.addEventListener('change', calculateDraftItem);\n    DOMElements.itemNetValInp.addEventListener('change', calculateDraftItem);\n    DOMElements.itemTaxRateInp.addEventListener('change', calculateDraftItem);\n    DOMElements.draftItemTable.addEventListener('click', deleteDraftItem);\n\n    // event listeners for verification for inputs section\n    DOMElements.dataInpuForm.addEventListener('keyup', verifyInputField);\n    DOMElements.dataInpuForm.addEventListener('change', verifyInputField);\n    DOMElements.draftItemConstructor.addEventListener('keyup', verifyDraftItemInput);\n\n    DOMElements.payMethodInp.addEventListener('change', isBankAccountCheck);\n\n    // local storage save and load listeners\n    DOMElements.sellerSaveBtn.addEventListener('click', saveSeller);\n    DOMElements.sellerLoadBtn.addEventListener('click', loadSeller);\n    DOMElements.buyerSaveBtn.addEventListener('click', saveBuyer);\n    DOMElements.buyerLoadTrigger.addEventListener('click', retrieveBuyers);\n    DOMElements.accountSaveBtn.addEventListener('click', saveAccount);\n    DOMElements.accountLoadBtn.addEventListener('click', retrieveAccounts);\n    DOMElements.itemSaveBtn.addEventListener('click', saveItem);\n    DOMElements.itemLoadTrigger.addEventListener('click', retrieveItems);\n    DOMElements.storageListModalClose.addEventListener('click', UiCtrl.closeStorageModal);\n    DOMElements.storageList.addEventListener('click', UiCtrl.fillInputForm);\n    DOMElements.storageList.addEventListener('click', deleteLocalStorageEntry);\n  };\n\n  // initialization function\n  const init = function() {\n    loadEventListeners();\n  };\n\n  const isBankAccountCheck = function(e) {\n    if (e.target.value === 'gotówka' || e.target.value === 'czek') {\n      DOMElements.payAccountInp.parentElement.style.display = 'none';\n      DOMElements.payAccountInp.setAttribute('disabled', true);\n      DOMElements.payAccountInp.value = '';\n    } else {\n      DOMElements.payAccountInp.parentElement.style.display = 'flex';\n      DOMElements.payAccountInp.removeAttribute('disabled');\n    }\n  };\n\n  const verifyInputField = function(e) {\n    if (e.target === DOMElements.sellerPostCodeInp || e.target === DOMElements.buyerPostCodeInp) {\n      validationFunctions.validatePostCode(e);\n    } else if (e.target === DOMElements.sellerNipInp || e.target === DOMElements.buyerNipInp) {\n      validationFunctions.validateNip(e);\n    } else if (e.target === DOMElements.payAccountInp) {\n      if (\n        DOMElements.payMethodInp.value !== 'gotówka' ||\n        DOMElements.payMethodInp.value !== 'pobranie'\n      ) {\n        validationFunctions.validateAccount(e);\n      }\n    } else {\n      validationFunctions.validateFillInFormInput(e);\n    }\n  };\n\n  const verifyDraftItemInput = function(e) {\n    validationFunctions.validateDraftItemInputs(e);\n  };\n\n  const verifyCompletedForm = function() {\n    let inputs = Array.from(DOMElements.dataInpuForm.getElementsByClassName('input'));\n\n    // If payment method is 'gotówka' cuts this field from inputs array to not validate ir\n    if (DOMElements.payMethodInp.value === 'gotówka') {\n      inputs = inputs.filter(item => item.classList.contains('payment__account') === false);\n    }\n    if (inputs.some(input => input.value === '' || input.value === ' ')) {\n      inputs\n        .filter(input => input.value === '' || input.value === ' ')\n        .forEach(input => input.classList.add('invalid'));\n      return false;\n    } else {\n      return true;\n    }\n  };\n\n  // validation functions object\n  const validationFunctions = {\n    validatePostCode: function(e) {\n      const reg = /^\\d\\d-\\d\\d\\d$/;\n      if (!reg.test(e.target.value)) {\n        e.target.classList.add('invalid');\n      } else {\n        e.target.classList.remove('invalid');\n      }\n    },\n    validateNip: function(e) {\n      const reg = /^\\d{3}[- ]?\\d{3}[- ]?\\d\\d[- ]?\\d\\d\\s?$/;\n      if (!reg.test(e.target.value)) {\n        e.target.classList.add('invalid');\n      } else {\n        e.target.classList.remove('invalid');\n      }\n    },\n    validateAccount: function(e) {\n      const reg = /^([A-Za-z]{2})?[ ]?\\d{2}([ ]?\\d{4}){6}\\s?$/;\n      if (!reg.test(e.target.value)) {\n        e.target.classList.add('invalid');\n      } else {\n        e.target.classList.remove('invalid');\n      }\n    },\n    validateFillInFormInput: function(e) {\n      const reg = /[A-Za-z\\d]+/;\n      if (!reg.test(e.target.value)) {\n        e.target.classList.add('invalid');\n      } else {\n        e.target.classList.remove('invalid');\n      }\n    },\n    validateDraftItemInputs: function(e) {\n      if (\n        DOMElements.itemNameInp.value !== '' &&\n        DOMElements.itemNameInp.value !== '' &&\n        DOMElements.itemQuantInp.value !== '' &&\n        DOMElements.itemPriceInp.value !== ''\n      ) {\n        DOMElements.addBtn.disabled = false;\n      } else {\n        DOMElements.addBtn.disabled = true;\n      }\n    },\n  };\n\n  const addItem = function() {\n    const newItemId = v4();\n    storageController.createNewItem(newItemId);\n    storageController.calculateDraftItemsTotals();\n    UiCtrl.clearDraftItemFieds();\n    UiCtrl.addItemToDraftItemsList(newItemId);\n    StorageCtrl.createDraftVatRatesValues();\n    UiCtrl.buildDraftSumValues();\n    storageController.createDraftVatRatesValues();\n    DOMElements.addBtn.disabled = true;\n  };\n\n  const calculateDraftItem = function() {\n    // calculate and display not filled draft input values and placing it's values as input value\n    UiCtrl.displayDraftItemNotFilledInputs();\n  };\n\n  const deleteDraftItem = function(e) {\n    if (e.target.classList.contains('btn--item-del')) {\n      // determine id of target item\n      const delID = e.target.parentElement.parentElement.dataset.identifier;\n      // delete item from storage array by given id\n      StorageCtrl.deleteDraftItem(delID);\n      // recalculate invoice totals\n      StorageCtrl.calculateDraftItemsTotals();\n      // rebuild draft items table\n      UiCtrl.rebuildDraftItemsTable();\n      // check existing on draft items vat rates\n      StorageCtrl.createDraftVatRatesValues();\n      // rebuild vat summareis table by vat rate for draft items\n      UiCtrl.buildDraftSumValues();\n    }\n  };\n\n  // function for generate new invoice object\n  const generateInvoice = function() {\n    const verified = verifyCompletedForm();\n    if (verified) {\n      // create invoice object in storage\n      StorageCtrl.createInvoiceObj();\n      // generating invoice document\n      UiCtrl.generateInvoice();\n      // generate invoice positions from draft items\n      UiCtrl.generateInvoicePositions(StorageCtrl.invoices.invoice.positions);\n      // Activate print invoice button\n      UiCtrl.activatePrintInvoice();\n    } else {\n      uiController.showCompleteInfo();\n    }\n  };\n\n  const saveSeller = function(e) {\n    e.preventDefault();\n\n    const seller = {\n      name: DOMElements.sellerNameInp.value,\n      street: DOMElements.sellerStreetInp.value,\n      city: DOMElements.sellerCityInp.value,\n      postCode: DOMElements.sellerPostCodeInp.value,\n      nip: DOMElements.sellerNipInp.value,\n    };\n    StorageCtrl.saveSellerToLocal(seller);\n  };\n\n  const loadSeller = function(e) {\n    e.preventDefault();\n\n    UiCtrl.openStorageModal();\n    UiCtrl.buildStorageSellersList();\n  };\n\n  const saveBuyer = function(e) {\n    e.preventDefault();\n\n    const buyer = {\n      name: DOMElements.buyerNameInp.value,\n      street: DOMElements.buyerStreetInp.value,\n      city: DOMElements.buyerCityInp.value,\n      postCode: DOMElements.buyerPostCodeInp.value,\n      nip: DOMElements.buyerNipInp.value,\n    };\n    StorageCtrl.saveBuyerToLocal(buyer);\n  };\n\n  const retrieveBuyers = function(e) {\n    e.preventDefault();\n    UiCtrl.openStorageModal();\n    UiCtrl.buildStorageBuyersList();\n  };\n\n  const saveAccount = function(e) {\n    e.preventDefault();\n\n    const account = {\n      number: DOMElements.payAccountInp.value,\n    };\n    StorageCtrl.saveAccountToLocal(account);\n  };\n\n  const retrieveAccounts = function(e) {\n    e.preventDefault();\n\n    UiCtrl.openStorageModal();\n    UiCtrl.buildStorageSellerAccountsList();\n  };\n\n  const saveItem = function(e) {\n    e.preventDefault();\n\n    const now = new Date();\n    const createdDate =\n      now.getUTCFullYear() + '/' + (now.getUTCMonth() + 1) + '/' + now.getUTCDate();\n\n    const item = {\n      name: DOMElements.itemNameInp.value,\n      unit: DOMElements.itemUnitInp.value,\n      netPrice: DOMElements.itemPriceInp.valueAsNumber,\n      taxRate: parseFloat(DOMElements.itemTaxRateInp.value),\n      date: createdDate,\n    };\n    StorageCtrl.saveItemToLocal(item);\n  };\n\n  const retrieveItems = function(e) {\n    e.preventDefault();\n\n    UiCtrl.openStorageModal();\n    UiCtrl.buildStorageItemsList();\n  };\n\n  const deleteLocalStorageEntry = function(e) {\n    e.preventDefault();\n    const targetClasses = e.target.classList;\n    if (targetClasses.contains('btn--delete-seller')) {\n      StorageCtrl.deleteSeller(e.target.dataset.sellerName);\n      UiCtrl.hideListItem(e.target.parentElement);\n    }\n    if (targetClasses.contains('btn--delete-buyer')) {\n      StorageCtrl.deleteBuyer(e.target.dataset.buyerName);\n      UiCtrl.hideListItem(e.target.parentElement);\n    }\n    if (targetClasses.contains('btn--delete-account')) {\n      StorageCtrl.deleteAccount(e.target.dataset.accountNumber);\n      UiCtrl.hideListItem(e.target.parentElement);\n    }\n    if (targetClasses.contains('btn--delete-item')) {\n      StorageCtrl.deleteItem(e.target.dataset.itemName);\n      UiCtrl.hideListItem(e.target.parentElement);\n    }\n  };\n\n  /*++++++++++++++++++++++++++++++++++++++++++++++++++++++\n  Revealed methods \n  ----------------------------------------------------*/\n  return {\n    init,\n  };\n})(storageController, uiController);\n\nappController.init();\n\n// print js script for printing - dependiency - jquery\n$('.btn--print-inv').on('click', function() {\n  $('.invoice').printThis();\n});\n"]}