{"version":3,"sources":["node_modules/uuid/lib/rng-browser.js","node_modules/uuid/lib/bytesToUuid.js","node_modules/uuid/v1.js","node_modules/uuid/v4.js","node_modules/uuid/index.js","js/main.js","../../../../../usr/lib/node_modules/parcel-bundler/src/builtins/bundle-url.js","../../../../../usr/lib/node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["uiController","DOMElements","dataInpuForm","document","querySelector","docTypeInp","docNumInp","docPlaceInp","docDateInp","docSellDateInp","sellerNameInp","sellerStreetInp","sellerCityInp","sellerPostCodeInp","sellerNipInp","sellerSaveBtn","sellerLoadBtn","buyerNameInp","buyerStreetInp","buyerCityInp","buyerPostCodeInp","buyerNipInp","buyerSaveBtn","buyerLoadTrigger","payMethodInp","payTermInp","payAccountInp","accountSaveBtn","accountLoadBtn","itemNameInp","itemUnitInp","itemQuantInp","itemPriceInp","itemNetValInp","itemTaxRateInp","itemTaxValInp","itemTotValInp","itemSaveBtn","itemLoadTrigger","itemsListModal","itemsListModalClose","itemsLoadList","addBtn","draftItemConstructor","draftItemTable","drawtSumTable","itemDelBtn","querySelectorAll","genBtn","printBtn","invoice","invType","invNum","invPlace","invSellDate","invDate","invSellerName","invSellerStr","invSellerCity","invSellerPostCode","invSellerNip","invBuyerName","invBuyerStr","invBuyerCity","invBuyerPostCode","invBuyerNip","invoicePositionsTable","invoicePositionsTableSum","invFinalToPay","invFinalPayMethod","invFinalPayTerm","invFinalAccount","displayDraftItemNotFilledInputs","value","valueAsNumber","toFixed","parseFloat","clearDraftItemFieds","reset","focus","addItemToDraftItemsList","id","item","storageController","draftItemsData","items","find","console","table","newRow","createElement","classList","add","dataset","identifier","innerHTML","name","unit","quantity","netPrice","netValue","taxRate","taxValue","total","appendChild","clearInnerHtml","elem","rebuildDraftItemsTable","forEach","buildDraftSumValues","draftSumRow","summaries","totalNetVal","totalTaxVal","generateDraftSumRow","areTaxRateItems","checkingTaxRate","checkedTaxRate","taxRates","taxRatefinalRow","taxTotal","generateInvoice","invoiceObj","invoices","details","textContent","type","number","place","date","sellDate","seller","street","city","postCode","nip","buyer","payment","toPay","method","term","account","generateInvoicePositions","positionsArray","indexOf","invoiceSumRow","isTax23","some","isTax8","isTax5","isTax3","isTax00","generateInvoiceSumRow","isTaxRate","vatRatefinalrow","showCompleteInfo","setTimeout","hidemodal","remove","activatePrintInvoice","removeAttribute","tax23","tax8","tax5","tax3","tax0","createInvoiceObj","positions","deleteDraftItem","delID","filter","createNewItem","newItem","push","calculateDraftItemsTotals","draftItemsTotal","reduce","acc","draftItemsTotalNetValue","draftItemsTotalTaxValue","claculateDraftTaxRatesValues","taxRateItemsArr","taxRateNetValue","taxRateTax","taxRateTotal","createDraftVatRatesValues","appController","StorageCtrl","UiCtrl","loadEventListeners","addEventListener","addItem","calculateDraftItem","verifyInputField","verifyDraftItemInput","isBankAccountCheck","saveSeller","loadSeller","saveBuyer","retrieveBuyers","saveAccount","loadAccount","saveItem","retrieveItems","closeItemsModal","fillDraftInput","init","e","target","parentElement","style","display","setAttribute","validationFunctions","validatePostCode","validateNip","validateAccount","validateFillInFormInput","validateDraftItemInputs","verifyCompletedForm","inputs","Array","from","getElementsByClassName","contains","input","reg","test","disabled","newItemId","verified","preventDefault","localStorage","setItem","JSON","stringify","parse","getItem","buyers","log","sellerAccount","accountNumber","htmlOutput","localStorageItems","Object","entries","li","loadButton","itemName","nameSpan","priceSpan","taxSpan","$","on","printThis","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","links","i","length","module"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AL73BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","file":"main.b27368ef.map","sourceRoot":"..","sourcesContent":["// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n","import { v4 } from \"uuid\";\nimport \"../sass/main.scss\";\n\nconst uiController = (function() {\n  // defining DOM elements\n  const DOMElements = {\n    // -------------------------------------------------------\n    // Invoice details input elements\n    // -------------------------------------------------------\n    dataInpuForm: document.querySelector(\".data-form\"),\n\n    // document data inputs\n    docTypeInp: document.querySelector(\".data__doc-type\"),\n    docNumInp: document.querySelector(\".data__doc-number\"),\n    docPlaceInp: document.querySelector(\".data__doc-place\"),\n    docDateInp: document.querySelector(\".data__doc-date\"),\n    docSellDateInp: document.querySelector(\".data__doc-sell-date\"),\n\n    // seller data inputs\n    sellerNameInp: document.querySelector(\".data__seller-name\"),\n    sellerStreetInp: document.querySelector(\".data__seller-street\"),\n    sellerCityInp: document.querySelector(\".data__seller-city\"),\n    sellerPostCodeInp: document.querySelector(\".data__seller-post-code\"),\n    sellerNipInp: document.querySelector(\".data__seller-nip\"),\n    sellerSaveBtn: document.querySelector(\".btn--seller-save\"),\n    sellerLoadBtn: document.querySelector(\".btn--seller-load\"),\n\n    // buyer data inputs\n    buyerNameInp: document.querySelector(\".data__buyer-name\"),\n    buyerStreetInp: document.querySelector(\".data__buyer-street\"),\n    buyerCityInp: document.querySelector(\".data__buyer-city\"),\n    buyerPostCodeInp: document.querySelector(\".data__buyer-post-code\"),\n    buyerNipInp: document.querySelector(\".data__buyer-nip\"),\n    buyerSaveBtn: document.querySelector(\".btn--buyer-save\"),\n    buyerLoadTrigger: document.querySelector(\".btn--buyer-load\"),\n\n    // payment terms inputs\n    payMethodInp: document.querySelector(\".payment__method\"),\n    payTermInp: document.querySelector(\".payment__term\"),\n    payAccountInp: document.querySelector(\".payment__account\"),\n    accountSaveBtn: document.querySelector(\".btn--account-save\"),\n    accountLoadBtn: document.querySelector(\".btn--account-load\"),\n\n    // draft positions inputs\n    itemNameInp: document.querySelector(\".draft-item__name\"),\n    itemUnitInp: document.querySelector(\".draft-item__unit\"),\n    itemQuantInp: document.querySelector(\".draft-item__quantity\"),\n    itemPriceInp: document.querySelector(\".draft-item__price\"),\n    itemNetValInp: document.querySelector(\".draft-item__net-value\"),\n    itemTaxRateInp: document.querySelector(\".draft-item__tax-rate\"),\n    itemTaxValInp: document.querySelector(\".draft-item__tax-value\"),\n    itemTotValInp: document.querySelector(\".draft-item__total-value\"),\n    itemSaveBtn: document.querySelector(\".btn--item-save\"),\n    itemLoadTrigger: document.querySelector(\".btn--item-load\"),\n    itemsListModal: document.querySelector(\".items-load__modal\"),\n    itemsListModalClose: document.querySelector(\".btn--close-items-modal\"),\n    itemsLoadList: document.querySelector(\".items-load__list\"),\n\n    // draft add button\n    addBtn: document.querySelector(\".btn--add-item\"),\n\n    // draft itens table\n    draftItemConstructor: document.querySelector(\".draft-item__constructor\"),\n    draftItemTable: document.querySelector(\".draft-added-items\"),\n    drawtSumTable: document.querySelector(\".draft__summary\"),\n    itemDelBtn: document.querySelectorAll(\".btn--item-del\"),\n\n    // button generate invoice\n    genBtn: document.querySelector(\".btn--gen-inv\"),\n    printBtn: document.querySelector(\".btn--print-inv\"),\n\n    // -------------------------------------------------------\n    //output invoice elements\n    // -------------------------------------------------------\n    invoice: document.querySelector(\".invoice\"),\n    // invoice heading\n    invType: document.querySelector(\".invoice__type\"),\n    invNum: document.querySelector(\".invoice__number\"),\n    invPlace: document.querySelector(\".invoice__place\"),\n    invSellDate: document.querySelector(\".invoice__sell-date\"),\n    invDate: document.querySelector(\".invoice__place-date\"),\n    // invoice seller details\n    invSellerName: document.querySelector(\".invoice__seller-name\"),\n    invSellerStr: document.querySelector(\".invoice__seller-street\"),\n    invSellerCity: document.querySelector(\".invoice__seller-city\"),\n    invSellerPostCode: document.querySelector(\".seller__post-code\"),\n    invSellerNip: document.querySelector(\".invoice__seller-nip\"),\n    // invoice buyer details\n    invBuyerName: document.querySelector(\".invoice__buyer-name\"),\n    invBuyerStr: document.querySelector(\".invoice__buyer-street\"),\n    invBuyerCity: document.querySelector(\".invoice__buyer-city\"),\n    invBuyerPostCode: document.querySelector(\".buyer__post-code\"),\n    invBuyerNip: document.querySelector(\".invoice__buyer-nip\"),\n    // Invoice positions items table\n    invoicePositionsTable: document.querySelector(\".invoice__positions-place\"),\n    invoicePositionsTableSum: document.querySelector(\".invoice__positions-summary\"),\n    // invoice final details\n    invFinalToPay: document.querySelector(\".invoice__final-to-pay\"),\n    invFinalPayMethod: document.querySelector(\".invoice__final-payment-method\"),\n    invFinalPayTerm: document.querySelector(\".invoice__final-payment-term\"),\n    invFinalAccount: document.querySelector(\".invoice__final-payment__account\"),\n  };\n\n  // displaying draft item taxes in draft item constructor form\n  const displayDraftItemNotFilledInputs = function() {\n    // if there is fullfilled draft item quantity and net price can calculate:\n    if (DOMElements.itemQuantInp.value !== \"\" && DOMElements.itemPriceInp.value !== \"\") {\n      // net value ptoduct price * quantity\n      DOMElements.itemNetValInp.value = (\n        DOMElements.itemPriceInp.valueAsNumber * DOMElements.itemQuantInp.valueAsNumber\n      ).toFixed(2);\n      // tax value\n      DOMElements.itemTaxValInp.value = (\n        DOMElements.itemQuantInp.valueAsNumber *\n        DOMElements.itemPriceInp.valueAsNumber *\n        parseFloat(DOMElements.itemTaxRateInp.value / 100)\n      ).toFixed(2);\n      // item total price\n      DOMElements.itemTotValInp.value = (\n        DOMElements.itemNetValInp.valueAsNumber + DOMElements.itemTaxValInp.valueAsNumber\n      ).toFixed(2);\n    }\n  };\n\n  // clearing draft item input fields\n  const clearDraftItemFieds = function() {\n    DOMElements.draftItemConstructor.reset();\n    DOMElements.itemNameInp.focus();\n  };\n\n  // add item to draft table\n  const addItemToDraftItemsList = function(id) {\n    const item = storageController.draftItemsData.items.find(item => item.id === id);\n    console.table(item);\n    // create newtable row\n    const newRow = document.createElement(\"tr\");\n    newRow.classList.add(\"draft__position\");\n    newRow.id = `draft-item-${item.id}`;\n    newRow.dataset.identifier = `${item.id}`;\n    newRow.innerHTML = `\n      <td class=\"draft__item-delete\"><button class=\"btn btn--item-del\">usu</button></td>\n      <td class=\"draft__item-name\">${item.name}</td>\n      <td class=\"draft__item-unit\">${item.unit}</td>\n      <td class=\"draft__item-quantity\">${item.quantity.toFixed(2)}</td>\n      <td class=\"draft__item-price\">${item.netPrice.toFixed(2)}</td>\n      <td class=\"draft__item-net-value\">${item.netValue.toFixed(2)}</td>\n      <td class=\"draft__item-tax-rate\">${item.taxRate}%</td>\n      <td class=\"draft__item-tax-value\">${item.taxValue.toFixed(2)}</td>\n      <td class=\"draft__item-total-value\">${item.total.toFixed(2)}</td>`;\n    DOMElements.draftItemTable.appendChild(newRow);\n  };\n\n  // helper function for cleat innner HTML in given element\n  const clearInnerHtml = function(elem) {\n    elem.innerHTML = \"\";\n  };\n\n  // building draft items table from start\n  const rebuildDraftItemsTable = function() {\n    clearInnerHtml(DOMElements.draftItemTable);\n    // for each drafted item perform same action\n    storageController.draftItemsData.items.forEach(item => {\n      // create newtable row\n      const newRow = document.createElement(\"tr\");\n      newRow.classList.add(\"draft__position\");\n      newRow.id = `draft-item-${item.id}`;\n      newRow.dataset.identifier = `${item.id}`;\n      newRow.innerHTML = `\n      <td class=\"draft__item-delete\"><button class=\"btn btn--item-del\">usu</button></td>\n      <td class=\"draft__item-name\">${item.name}</td>\n      <td class=\"draft__item-unit\">${item.unit}</td>\n      <td class=\"draft__item-quantity\">${item.quantity.toFixed(2)}</td>\n      <td class=\"draft__item-price\">${item.netPrice.toFixed(2)}</td>\n      <td class=\"draft__item-net-value\">${item.netValue.toFixed(2)}</td>\n      <td class=\"draft__item-tax-rate\">${item.taxRate}%</td>\n      <td class=\"draft__item-tax-value\">${item.taxValue.toFixed(2)}</td>\n      <td class=\"draft__item-total-value\">${item.total.toFixed(2)}</td>`;\n      DOMElements.draftItemTable.appendChild(newRow);\n    });\n  };\n\n  // building draft sum values in draft table\n  const buildDraftSumValues = function() {\n    // remove all content from summary draft table\n    clearInnerHtml(DOMElements.drawtSumTable);\n\n    const draftSumRow = document.createElement(\"tr\");\n    draftSumRow.classList.add(\"draft__summary-row\");\n    draftSumRow.innerHTML = `\n    <th colspan=\"5\" class=\"draft__summary-legend\">Razem:</th>\n    <th class=\"draft__summary-net-value\">${storageController.draftItemsData.summaries.totalNetVal.toFixed(\n      2\n    )}</th>\n    <th class=\"\"></th>\n    <th class=\"draft__summary-vat-value\">${storageController.draftItemsData.summaries.totalTaxVal.toFixed(\n      2\n    )}</th>\n    <th class=\"draft__summary-total\">${storageController.draftItemsData.summaries.total.toFixed(\n      2\n    )}</th>`;\n    DOMElements.drawtSumTable.appendChild(draftSumRow);\n  };\n\n  const generateDraftSumRow = function(areTaxRateItems, checkingTaxRate) {\n    const checkedTaxRate =\n      storageController.draftItemsData.summaries.taxRates[`tax${checkingTaxRate}`];\n    if (areTaxRateItems) {\n      const taxRatefinalRow = document.createElement(\"tr\");\n      taxRatefinalRow.classList.add(\"draft__summary-row\");\n      taxRatefinalRow.innerHTML = `\n      <td colspan=\"5\" class=\"draft__summary-legend\">W tym:</td>\n      <td class=\"draft__summary-net-value\">${checkedTaxRate.netValue.toFixed(2)}</td>\n      <td class=\"\">${checkingTaxRate}%</td>\n      <td class=\"draft__summary-vat-value\">${checkedTaxRate.taxValue.toFixed(2)}</td>\n      <td class=\"draft__summary-total\">${checkedTaxRate.taxTotal.toFixed(2)}</td>`;\n      DOMElements.drawtSumTable.appendChild(taxRatefinalRow);\n    }\n  };\n\n  const generateInvoice = function() {\n    const invoiceObj = storageController.invoices.invoice.details;\n    // inserting details of the invoice\n    DOMElements.invType.textContent = `${invoiceObj.document.type}`;\n    DOMElements.invNum.textContent = `nr ${invoiceObj.document.number}`;\n    DOMElements.invPlace.textContent = `Miejsce wystawienia: ${invoiceObj.document.place}`;\n    DOMElements.invDate.textContent = `Data wystawienia: ${invoiceObj.document.date}`;\n    DOMElements.invSellDate.textContent = `Data sprzeday: ${invoiceObj.document.sellDate}`;\n    DOMElements.invSellerName.textContent = `${invoiceObj.seller.name}`;\n    DOMElements.invSellerStr.textContent = `${invoiceObj.seller.street}`;\n    DOMElements.invSellerCity.textContent = `${invoiceObj.seller.city}`;\n    DOMElements.invSellerPostCode.textContent = `${invoiceObj.seller.postCode}`;\n    DOMElements.invSellerNip.textContent = `NIP: ${invoiceObj.seller.nip}`;\n    DOMElements.invBuyerName.textContent = `${invoiceObj.buyer.name}`;\n    DOMElements.invBuyerStr.textContent = `${invoiceObj.buyer.street}`;\n    DOMElements.invBuyerCity.textContent = `${invoiceObj.buyer.city}`;\n    DOMElements.invBuyerPostCode.textContent = `${invoiceObj.buyer.postCode}`;\n    DOMElements.invBuyerNip.textContent = `NIP: ${invoiceObj.buyer.nip}`;\n    DOMElements.invFinalToPay.textContent = `Do zapaty: ${invoiceObj.payment.toPay.toFixed(\n      2\n    )} PLN`;\n    DOMElements.invFinalPayMethod.textContent = `Sposb patnoci: ${invoiceObj.payment.method}`;\n    DOMElements.invFinalPayTerm.textContent = `Termin patnoci: ${invoiceObj.payment.term}`;\n    // print account number if choosen method is different than cash\n    if (invoiceObj.payment.method !== \"gotwka\") {\n      DOMElements.invFinalAccount.textContent = `Konto: ${invoiceObj.payment.account}`;\n    } else {\n      DOMElements.invFinalAccount.textContent = ``;\n    }\n  };\n\n  const generateInvoicePositions = function(positionsArray) {\n    clearInnerHtml(DOMElements.invoicePositionsTable);\n    clearInnerHtml(DOMElements.invoicePositionsTableSum);\n\n    positionsArray.forEach(item => {\n      const newRow = document.createElement(\"tr\");\n      newRow.classList.add(\"invoice__position\");\n      newRow.id = `invoice-item${item.id}`;\n      newRow.dataset.identifier = `${item.id}`;\n      newRow.innerHTML = `\n          <td class=\"invoice__item-lp\">${positionsArray.indexOf(item) + 1}</td>\n          <td class=\"invoice__item-name\">${item.name}</td>\n          <td class=\"invoice__item-unit\">${item.unit}</td>\n          <td class=\"invoice__item-quantity\">${item.quantity.toFixed(2)}</td>\n          <td class=\"invoice__item-price\">${item.netPrice.toFixed(2)}</td>\n          <td class=\"invoice__item-net-value\">${item.netValue.toFixed(2)}</td>\n          <td class=\"invoice__item-tax-rate\">${item.taxRate.toFixed(2)}</td>\n          <td class=\"invoice__item-tax-value\">${item.taxValue.toFixed(2)}</td>\n          <td class=\"invoice__item-total-value\">${item.total.toFixed(2)}</td>`;\n      DOMElements.invoicePositionsTable.appendChild(newRow);\n    });\n\n    // invoice items summaries from draft items summaries section\n    const totalNetVal = storageController.draftItemsData.summaries.totalNetVal;\n    const totalTaxVal = storageController.draftItemsData.summaries.totalTaxVal;\n    const total = storageController.draftItemsData.summaries.total;\n\n    const invoiceSumRow = document.createElement(\"tr\");\n    invoiceSumRow.classList.add(\"invoice__summary-row\");\n    invoiceSumRow.innerHTML = `\n    <th colspan=\"5\" class=\"invoice__summary-legend\">Razem:</th>\n    <th class=\"invoice__summary-net-value\">${totalNetVal.toFixed(2)}</th>\n    <th class=\"\"></th>\n    <th class=\"invoice__summary-vat-value\">${totalTaxVal.toFixed(2)}</th>\n    <th class=\"invoice__summary-total\">${total.toFixed(2)}</th>`;\n    DOMElements.invoicePositionsTable.appendChild(invoiceSumRow);\n\n    // generate boolean values for check it there are some products with specific tax rates\n    const isTax23 = positionsArray.some(item => item.taxRate === 23);\n    const isTax8 = positionsArray.some(item => item.taxRate === 8);\n    const isTax5 = positionsArray.some(item => item.taxRate === 5);\n    const isTax3 = positionsArray.some(item => item.taxRate === 3);\n    const isTax00 = positionsArray.some(item => item.taxRate === 0);\n\n    //  generate summaries by vat rate\n    generateInvoiceSumRow(isTax23, 23);\n    generateInvoiceSumRow(isTax8, 8);\n    generateInvoiceSumRow(isTax5, 5);\n    generateInvoiceSumRow(isTax3, 3);\n    generateInvoiceSumRow(isTax00, 0);\n  };\n\n  // generate invoice positions sum row for each existing in draft items tavle tax rate determined by first argument the boolean value\n  const generateInvoiceSumRow = function(isTaxRate, checkingTaxRate) {\n    const checkedTaxRate =\n      storageController.draftItemsData.summaries.taxRates[`tax${checkingTaxRate}`];\n    if (isTaxRate) {\n      const vatRatefinalrow = document.createElement(\"tr\");\n      vatRatefinalrow.classList.add(\"invoice__summary-row\");\n      vatRatefinalrow.innerHTML = `\n        <td colspan=\"5\" class=\"invoice__summary-legend\">W tym:</td>\n        <td class=\"invoice__summary-net-value\">${checkedTaxRate.netValue.toFixed(2)}</td>\n        <td class=\"\">${checkingTaxRate}%</td>\n        <td class=\"invoice__summary-vat-value\">${checkedTaxRate.taxValue.toFixed(2)}</td>\n        <td class=\"invoice__summary-total\">${checkedTaxRate.taxTotal.toFixed(2)}</td>`;\n      DOMElements.invoicePositionsTable.appendChild(vatRatefinalrow);\n    }\n  };\n\n  // showing modal complete\n  const showCompleteInfo = function() {\n    document.querySelector(\".not-completed-form-modal\").classList.add(\"visible\");\n    setTimeout(hidemodal, 2500);\n\n    function hidemodal() {\n      document.querySelector(\".not-completed-form-modal\").classList.remove(\"visible\");\n    }\n  };\n\n  const activatePrintInvoice = function() {\n    DOMElements.printBtn.removeAttribute(\"disabled\");\n  };\n\n  /*++++++++++++++++++++++++++++++++++++++++++++++++++++++\n  Revealed methods \n  ----------------------------------------------------*/\n  return {\n    DOMElements,\n    displayDraftItemNotFilledInputs,\n    clearDraftItemFieds,\n    rebuildDraftItemsTable,\n    addItemToDraftItemsList,\n    generateDraftSumRow,\n    buildDraftSumValues,\n    generateInvoice,\n    generateInvoicePositions,\n    showCompleteInfo,\n    activatePrintInvoice,\n  };\n})();\n\n/*-----------------------------------------------------\n  Storage Controller \n  ----------------------------------------------------*/\n\nconst storageController = (function() {\n  const draftItemsData = {\n    items: [],\n    summaries: {\n      total: 0,\n      totalNetVal: 0,\n      totalTaxVal: 0,\n      taxRates: {\n        tax23: {\n          netValue: 0,\n          taxValue: 0,\n          taxTotal: 0,\n        },\n        tax8: {\n          netValue: 0,\n          taxValue: 0,\n          taxTotal: 0,\n        },\n        tax5: {\n          netValue: 0,\n          taxValue: 0,\n          taxTotal: 0,\n        },\n        tax3: {\n          netValue: 0,\n          taxValue: 0,\n          taxTotal: 0,\n        },\n        tax0: {\n          netValue: 0,\n          taxValue: 0,\n          taxTotal: 0,\n        },\n      },\n    },\n  };\n\n  const invoices = {\n    invoice: {},\n  };\n\n  const DOMElements = uiController.DOMElements;\n\n  const createInvoiceObj = function() {\n    const invoice = {\n      details: {\n        document: {\n          type: DOMElements.docTypeInp.value,\n          number: DOMElements.docNumInp.value,\n          place: DOMElements.docPlaceInp.value,\n          date: DOMElements.docDateInp.value,\n          sellDate: DOMElements.docSellDateInp.value,\n        },\n        seller: {\n          name: DOMElements.sellerNameInp.value,\n          street: DOMElements.sellerStreetInp.value,\n          city: DOMElements.sellerCityInp.value,\n          postCode: DOMElements.sellerPostCodeInp.value,\n          nip: DOMElements.sellerNipInp.value,\n        },\n        buyer: {\n          name: DOMElements.buyerNameInp.value,\n          street: DOMElements.buyerStreetInp.value,\n          city: DOMElements.buyerCityInp.value,\n          postCode: DOMElements.buyerPostCodeInp.value,\n          nip: DOMElements.buyerNipInp.value,\n        },\n        payment: {\n          toPay: draftItemsData.summaries.total,\n          method: DOMElements.payMethodInp.value,\n          term: DOMElements.payTermInp.value,\n          account: DOMElements.payAccountInp.value,\n        },\n      },\n      positions: draftItemsData.items,\n    };\n    invoices.invoice = invoice;\n  };\n\n  const deleteDraftItem = function(delID) {\n    draftItemsData.items = draftItemsData.items.filter(item => item.id != delID);\n  };\n\n  const createNewItem = function(id) {\n    const newItem = {\n      // asigning values to newitem\n      id: id,\n      name: DOMElements.itemNameInp.value,\n      unit: DOMElements.itemUnitInp.value,\n      quantity: DOMElements.itemQuantInp.valueAsNumber,\n      netPrice: DOMElements.itemPriceInp.valueAsNumber,\n      taxRate: parseFloat(DOMElements.itemTaxRateInp.value),\n      get netValue() {\n        return this.netPrice * this.quantity;\n      },\n      get taxValue() {\n        return this.netPrice * this.quantity * (this.taxRate / 100);\n      },\n      get total() {\n        return this.netPrice * this.quantity + this.netPrice * this.quantity * (this.taxRate / 100);\n      },\n    };\n    draftItemsData.items.push(newItem);\n  };\n\n  const calculateDraftItemsTotals = function() {\n    const draftItemsTotal = draftItemsData.items.reduce((acc, item) => {\n      return acc + item.total;\n    }, 0);\n    const draftItemsTotalNetValue = draftItemsData.items.reduce((acc, item) => {\n      return acc + item.netValue;\n    }, 0);\n    const draftItemsTotalTaxValue = draftItemsData.items.reduce((acc, item) => {\n      return acc + item.taxValue;\n    }, 0);\n\n    draftItemsData.summaries.total = draftItemsTotal;\n    draftItemsData.summaries.totalNetVal = draftItemsTotalNetValue;\n    draftItemsData.summaries.totalTaxVal = draftItemsTotalTaxValue;\n  };\n\n  const claculateDraftTaxRatesValues = function(areTaxRateItems, checkingTaxRate) {\n    if (areTaxRateItems) {\n      const taxRateItemsArr = draftItemsData.items.filter(item => item.taxRate === checkingTaxRate);\n      const taxRateNetValue = taxRateItemsArr.reduce((acc, item) => {\n        return acc + item.netValue;\n      }, 0);\n      const taxRateTax = taxRateItemsArr.reduce((acc, item) => {\n        return acc + item.taxValue;\n      }, 0);\n      const taxRateTotal = taxRateItemsArr.reduce((acc, item) => {\n        return acc + item.total;\n      }, 0);\n\n      draftItemsData.summaries.taxRates[`tax${checkingTaxRate}`].taxValue = taxRateTax;\n      draftItemsData.summaries.taxRates[`tax${checkingTaxRate}`].taxTotal = taxRateTotal;\n      draftItemsData.summaries.taxRates[`tax${checkingTaxRate}`].netValue = taxRateNetValue;\n    }\n  };\n\n  // creating vat rates summaries in storage controller and building summaries rows in draft items table\n  const createDraftVatRatesValues = function() {\n    // boolean values for check if there are some products with specific tax rates\n    const isTax00 = draftItemsData.items.some(item => item.taxRate === 0);\n    const isTax3 = draftItemsData.items.some(item => item.taxRate === 3);\n    const isTax5 = draftItemsData.items.some(item => item.taxRate === 5);\n    const isTax8 = draftItemsData.items.some(item => item.taxRate === 8);\n    const isTax23 = draftItemsData.items.some(item => item.taxRate === 23);\n\n    // calculate summary valuest for each vat rate\n    claculateDraftTaxRatesValues(isTax00, 0);\n    claculateDraftTaxRatesValues(isTax3, 3);\n    claculateDraftTaxRatesValues(isTax5, 5);\n    claculateDraftTaxRatesValues(isTax8, 8);\n    claculateDraftTaxRatesValues(isTax23, 23);\n\n    // create summary row for each existing vat rate\n    uiController.generateDraftSumRow(isTax00, 0);\n    uiController.generateDraftSumRow(isTax3, 3);\n    uiController.generateDraftSumRow(isTax5, 5);\n    uiController.generateDraftSumRow(isTax8, 8);\n    uiController.generateDraftSumRow(isTax23, 23);\n  };\n\n  /*++++++++++++++++++++++++++++++++++++++++++++++++++++++\n  Revealed methods \n  ----------------------------------------------------*/\n  return {\n    invoices,\n    draftItemsData,\n    createNewItem,\n    deleteDraftItem,\n    createDraftVatRatesValues,\n    createInvoiceObj,\n    calculateDraftItemsTotals,\n  };\n})();\n\n/*-----------------------------------------------------\n  App Controller\n----------------------------------------------------*/\n\nconst appController = (function(StorageCtrl, UiCtrl) {\n  const DOMElements = UiCtrl.DOMElements;\n\n  const loadEventListeners = function() {\n    // generate invoice event listener\n    DOMElements.genBtn.addEventListener(\"click\", generateInvoice);\n    // event listeners for draft section\n    DOMElements.addBtn.addEventListener(\"click\", addItem);\n    DOMElements.itemQuantInp.addEventListener(\"change\", calculateDraftItem);\n    DOMElements.itemPriceInp.addEventListener(\"change\", calculateDraftItem);\n    DOMElements.itemNetValInp.addEventListener(\"change\", calculateDraftItem);\n    DOMElements.itemTaxRateInp.addEventListener(\"change\", calculateDraftItem);\n    DOMElements.draftItemTable.addEventListener(\"click\", deleteDraftItem);\n\n    // event listeners for verification for inputs section\n    DOMElements.dataInpuForm.addEventListener(\"keyup\", verifyInputField);\n    DOMElements.dataInpuForm.addEventListener(\"change\", verifyInputField);\n    DOMElements.draftItemConstructor.addEventListener(\"keyup\", verifyDraftItemInput);\n\n    DOMElements.payMethodInp.addEventListener(\"change\", isBankAccountCheck);\n\n    // local storage save and load listeners\n    DOMElements.sellerSaveBtn.addEventListener(\"click\", saveSeller);\n    DOMElements.sellerLoadBtn.addEventListener(\"click\", loadSeller);\n    DOMElements.buyerSaveBtn.addEventListener(\"click\", saveBuyer);\n    DOMElements.buyerLoadTrigger.addEventListener(\"click\", retrieveBuyers);\n    DOMElements.accountSaveBtn.addEventListener(\"click\", saveAccount);\n    DOMElements.accountLoadBtn.addEventListener(\"click\", loadAccount);\n    DOMElements.itemSaveBtn.addEventListener(\"click\", saveItem);\n    DOMElements.itemLoadTrigger.addEventListener(\"click\", retrieveItems);\n    DOMElements.itemsListModalClose.addEventListener(\"click\", closeItemsModal);\n    DOMElements.itemsLoadList.addEventListener(\"click\", fillDraftInput);\n  };\n\n  // initialization function\n  const init = function() {\n    loadEventListeners();\n  };\n  const isBankAccountCheck = function(e) {\n    if (e.target.value === \"gotwka\") {\n      DOMElements.payAccountInp.parentElement.style.display = \"none\";\n      DOMElements.payAccountInp.setAttribute(\"disabled\", true);\n      DOMElements.payAccountInp.value = \"\";\n    } else {\n      DOMElements.payAccountInp.parentElement.style.display = \"flex\";\n      DOMElements.payAccountInp.removeAttribute(\"disabled\");\n    }\n  };\n\n  const verifyInputField = function(e) {\n    if (e.target === DOMElements.sellerPostCodeInp || e.target === DOMElements.buyerPostCodeInp) {\n      validationFunctions.validatePostCode(e);\n    } else if (e.target === DOMElements.sellerNipInp || e.target === DOMElements.buyerNipInp) {\n      validationFunctions.validateNip(e);\n    } else if (e.target === DOMElements.payAccountInp) {\n      if (\n        DOMElements.payMethodInp.value !== \"gotwka\" ||\n        DOMElements.payMethodInp.value !== \"pobranie\"\n      ) {\n        validationFunctions.validateAccount(e);\n      }\n    } else {\n      validationFunctions.validateFillInFormInput(e);\n    }\n  };\n\n  const verifyDraftItemInput = function(e) {\n    validationFunctions.validateDraftItemInputs(e);\n  };\n\n  const verifyCompletedForm = function() {\n    let inputs = Array.from(DOMElements.dataInpuForm.getElementsByClassName(\"input\"));\n\n    // If payment method is 'gotwka' cuts this field from inputs array to not validate ir\n    if (DOMElements.payMethodInp.value === \"gotwka\") {\n      inputs = inputs.filter(item => item.classList.contains(\"payment__account\") === false);\n    }\n    if (inputs.some(input => input.value === \"\" || input.value === \" \")) {\n      inputs\n        .filter(input => input.value === \"\" || input.value === \" \")\n        .forEach(input => input.classList.add(\"invalid\"));\n      return false;\n    } else {\n      return true;\n    }\n  };\n\n  // validation functions object\n  const validationFunctions = {\n    validatePostCode: function(e) {\n      const reg = /^\\d\\d-\\d\\d\\d$/;\n      if (!reg.test(e.target.value)) {\n        e.target.classList.add(\"invalid\");\n      } else {\n        e.target.classList.remove(\"invalid\");\n      }\n    },\n    validateNip: function(e) {\n      const reg = /^\\d{3}[- ]?\\d{3}[- ]?\\d\\d[- ]?\\d\\d\\s?$/;\n      if (!reg.test(e.target.value)) {\n        e.target.classList.add(\"invalid\");\n      } else {\n        e.target.classList.remove(\"invalid\");\n      }\n    },\n    validateAccount: function(e) {\n      const reg = /^([A-Za-z]{2})?[ ]?\\d{2}([ ]?\\d{4}){6}\\s?$/;\n      if (!reg.test(e.target.value)) {\n        e.target.classList.add(\"invalid\");\n      } else {\n        e.target.classList.remove(\"invalid\");\n      }\n    },\n    validateFillInFormInput: function(e) {\n      const reg = /[A-Za-z\\d]+/;\n      if (!reg.test(e.target.value)) {\n        e.target.classList.add(\"invalid\");\n      } else {\n        e.target.classList.remove(\"invalid\");\n      }\n    },\n    validateDraftItemInputs: function(e) {\n      if (\n        DOMElements.itemNameInp.value !== \"\" &&\n        DOMElements.itemNameInp.value !== \"\" &&\n        DOMElements.itemQuantInp.value !== \"\" &&\n        DOMElements.itemPriceInp.value !== \"\"\n      ) {\n        DOMElements.addBtn.disabled = false;\n      } else {\n        DOMElements.addBtn.disabled = true;\n      }\n    },\n  };\n\n  const addItem = function() {\n    const newItemId = v4();\n    storageController.createNewItem(newItemId);\n    storageController.calculateDraftItemsTotals();\n    UiCtrl.clearDraftItemFieds();\n    UiCtrl.addItemToDraftItemsList(newItemId);\n    StorageCtrl.createDraftVatRatesValues();\n    UiCtrl.buildDraftSumValues();\n    storageController.createDraftVatRatesValues();\n    DOMElements.addBtn.disabled = true;\n  };\n\n  const calculateDraftItem = function() {\n    // calculate and display not filled draft input values and placing it's values as input value\n    UiCtrl.displayDraftItemNotFilledInputs();\n  };\n\n  const deleteDraftItem = function(e) {\n    if (e.target.classList.contains(\"btn--item-del\")) {\n      // determine id of target item\n      const delID = e.target.parentElement.parentElement.dataset.identifier;\n      // delete item from storage array by given id\n      StorageCtrl.deleteDraftItem(delID);\n      // recalculate invoice totals\n      StorageCtrl.calculateDraftItemsTotals();\n      // rebuild draft items table\n      UiCtrl.rebuildDraftItemsTable();\n      // check existing on draft items vat rates\n      StorageCtrl.createDraftVatRatesValues();\n      // rebuild vat summareis table by vat rate for draft items\n      UiCtrl.buildDraftSumValues();\n    }\n  };\n\n  // function for generate new invoice object\n  const generateInvoice = function() {\n    const verified = verifyCompletedForm();\n    if (verified) {\n      // create invoice object in storage\n      StorageCtrl.createInvoiceObj();\n      // generating invoice document\n      UiCtrl.generateInvoice();\n      // generate invoice positions from draft items\n      UiCtrl.generateInvoicePositions(StorageCtrl.invoices.invoice.positions);\n      // Activate print invoice button\n      UiCtrl.activatePrintInvoice();\n    } else {\n      uiController.showCompleteInfo();\n    }\n  };\n\n  const saveSeller = function(e) {\n    e.preventDefault();\n\n    const seller = {\n      name: DOMElements.sellerNameInp.value,\n      street: DOMElements.sellerStreetInp.value,\n      city: DOMElements.sellerCityInp.value,\n      postCode: DOMElements.sellerPostCodeInp.value,\n      nip: DOMElements.sellerNipInp.value,\n    };\n\n    localStorage.setItem(\"seller\", JSON.stringify(seller));\n  };\n\n  const loadSeller = function(e) {\n    e.preventDefault();\n\n    const seller = JSON.parse(localStorage.getItem(\"seller\"));\n\n    DOMElements.sellerNameInp.value = seller.name;\n    DOMElements.sellerStreetInp.value = seller.street;\n    DOMElements.sellerCityInp.value = seller.city;\n    DOMElements.sellerPostCodeInp.value = seller.postCode;\n    DOMElements.sellerNipInp.value = seller.nip;\n  };\n\n  const saveBuyer = function(e) {\n    e.preventDefault();\n\n    const buyer = {\n      name: DOMElements.buyerNameInp.value,\n      street: DOMElements.buyerStreetInp.value,\n      city: DOMElements.buyerCityInp.value,\n      postCode: DOMElements.buyerPostCodeInp.value,\n      nip: DOMElements.buyerNipInp.value,\n    };\n\n    let buyers = {};\n    if (localStorage.getItem(\"buyers\")) {\n      buyers = JSON.parse(localStorage.getItem(\"buyers\"));\n    }\n\n    buyers[buyer.name] = buyer;\n\n    localStorage.setItem(\"buyers\", JSON.stringify(buyers));\n  };\n\n  const retrieveBuyers = function(e) {\n    console.log(\"not yet baby\");\n  };\n\n  const saveAccount = function(e) {\n    e.preventDefault();\n\n    const sellerAccount = {\n      accountNumber: DOMElements.payAccountInp.value,\n    };\n\n    localStorage.setItem(\"sellerAccount\", JSON.stringify(sellerAccount));\n  };\n\n  const loadAccount = function(e) {\n    e.preventDefault();\n\n    const sellerAccount = JSON.parse(localStorage.getItem(\"sellerAccount\"));\n\n    DOMElements.payAccountInp.value = sellerAccount.accountNumber;\n  };\n\n  const saveItem = function(e) {\n    e.preventDefault();\n\n    const item = {\n      name: DOMElements.itemNameInp.value,\n      unit: DOMElements.itemUnitInp.value,\n      netPrice: DOMElements.itemPriceInp.valueAsNumber,\n      taxRate: parseFloat(DOMElements.itemTaxRateInp.value),\n    };\n\n    let items = {};\n    if (localStorage.getItem(\"items\")) {\n      items = JSON.parse(localStorage.getItem(\"items\"));\n    }\n\n    items[item.name] = item;\n\n    localStorage.setItem(\"items\", JSON.stringify(items));\n  };\n\n  const retrieveItems = function(e) {\n    e.preventDefault();\n    // modal classlist add active\n    DOMElements.itemsListModal.style = \"display: block\";\n    setTimeout(() => {\n      DOMElements.itemsListModal.classList.add(\"modal-active\");\n    }, 10);\n    // localstorage list items\n    let items = [];\n    if (localStorage.getItem(\"items\")) {\n      let htmlOutput = \"\";\n      const localStorageItems = JSON.parse(localStorage.getItem(\"items\"));\n      items = Object.entries(localStorageItems);\n      console.log(items);\n      items.forEach(item => {\n        const li = document.createElement(\"li\");\n        li.classList.add(\"items-load__item\");\n\n        const loadButton = document.createElement(\"button\");\n        loadButton.classList.add(\"btn\");\n        loadButton.classList.add(\"btn--load\");\n        loadButton.dataset.itemName = item[1].name;\n        loadButton.textContent = \"Wybierz\";\n\n        const nameSpan = document.createElement(\"span\");\n        nameSpan.classList.add(\"items-load__item-name\");\n        nameSpan.textContent = item[1].name;\n\n        const priceSpan = document.createElement(\"span\");\n        priceSpan.classList.add(\"items-load__item-price\");\n        priceSpan.textContent = item[1].netPrice;\n\n        const taxSpan = document.createElement(\"span\");\n        taxSpan.classList.add(\"items-load__item-tax\");\n        taxSpan.textContent = item[1].taxRate;\n\n        li.appendChild(loadButton);\n        li.appendChild(nameSpan);\n        li.appendChild(priceSpan);\n        li.appendChild(taxSpan);\n        console.log(li);\n        DOMElements.itemsLoadList.appendChild(li);\n      });\n    } else {\n      DOMElements.itemsLoadList.textContent =\n        \"Nie ma adnych produkw zapisanych w twojej przegldarce.\";\n    }\n  };\n\n  const fillDraftInput = function(e) {\n    if (e.target.classList.contains(\"btn--load\")) {\n      console.log(e.target.dataset.itemName);\n      const items = JSON.parse(localStorage.getItem(\"items\"));\n      const item = items[e.target.dataset.itemName];\n      DOMElements.itemNameInp.value = item.name;\n      DOMElements.itemUnitInp.value = item.unit;\n      DOMElements.itemPriceInp.value = item.netPrice;\n      DOMElements.itemTaxRateInp.value = item.taxRate;\n      closeItemsModal();\n    }\n  };\n\n  const closeItemsModal = function() {\n    DOMElements.itemsListModal.classList.remove(\"modal-active\");\n    setTimeout(() => {\n      DOMElements.itemsListModal.style = \"display: none\";\n    }, 250);\n    DOMElements.itemsLoadList.innerHTML = \"\";\n  };\n\n  /*++++++++++++++++++++++++++++++++++++++++++++++++++++++\n  Revealed methods \n  ----------------------------------------------------*/\n  return {\n    init,\n  };\n})(storageController, uiController);\n\nappController.init();\n\n// print js script for printing\n$(\".btn--print-inv\").on(\"click\", function() {\n  $(\".invoice\").printThis();\n});\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}