{"version":3,"sources":["src/js/printThis.js","node_modules/uuid/lib/rng-browser.js","node_modules/uuid/lib/bytesToUuid.js","node_modules/uuid/v1.js","node_modules/uuid/v4.js","node_modules/uuid/index.js","src/js/main.js","../../../../../usr/lib/node_modules/parcel-bundler/src/builtins/bundle-url.js","../../../../../usr/lib/node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["$","appendContent","$el","content","append","jquery","clone","appendBody","$body","$element","opt","$content","formValues","copyValues","removeScripts","find","remove","printContainer","appendTo","each","children","origin","elementSelector","$originalElements","index","item","val","eq","fn","printThis","options","extend","defaults","jQuery","strFrameName","Date","getTime","window","location","hostname","document","domain","navigator","userAgent","match","iframeSrc","printI","createElement","name","id","className","body","appendChild","src","$frame","$iframe","debug","css","position","width","height","left","top","setTimeout","setDocType","doctype","win","doc","get","contentWindow","contentDocument","open","write","close","doctypeString","$doc","contents","$head","$base","baseURL","base","length","attr","protocol","host","importCSS","href","media","importStyle","outerHTML","pageTitle","loadCSS","isArray","value","tag","copyTagClasses","indexOf","addClass","header","canvas","canvasId","addBack","cid","data","$src","getContext","drawImage","removeData","removeInline","isFunction","removeAttr","footer","hasClass","frames","focus","queryCommandSupported","execCommand","print","printDelay","uiController","DOMElements","dataInpuForm","querySelector","docTypeInp","docNumInp","docPlaceInp","docDateInp","docSellDateInp","sellerNameInp","sellerStreetInp","sellerCityInp","sellerPostCodeInp","sellerNipInp","sellerSaveBtn","sellerLoadBtn","buyerNameInp","buyerStreetInp","buyerCityInp","buyerPostCodeInp","buyerNipInp","buyerSaveBtn","buyerLoadTrigger","payMethodInp","payTermInp","payAccountInp","accountSaveBtn","accountLoadBtn","itemNameInp","itemUnitInp","itemQuantInp","itemPriceInp","itemNetValInp","itemTaxRateInp","itemTaxValInp","itemTotValInp","itemSaveBtn","itemLoadTrigger","storageListModalClose","addBtn","draftItemConstructor","draftItemTable","drawtSumTable","itemDelBtn","querySelectorAll","storageList","storageListModal","storageListBackdrop","genBtn","printBtn","invoice","invType","invNum","invPlace","invSellDate","invDate","invSellerName","invSellerStr","invSellerCity","invSellerPostCode","invSellerNip","invBuyerName","invBuyerStr","invBuyerCity","invBuyerPostCode","invBuyerNip","invoicePositionsTable","invoicePositionsTableSum","invFinalToPay","invFinalPayMethod","invFinalPayTerm","invFinalAccount","displayDraftItemNotFilledInputs","valueAsNumber","toFixed","parseFloat","itemTotalPriceInp","clearDraftItemFieds","reset","addItemToDraftItemsList","storageController","draftItemsData","items","newRow","classList","add","dataset","identifier","innerHTML","unit","quantity","netPrice","netValue","taxRate","taxValue","total","clearInnerHtml","elem","rebuildDraftItemsTable","forEach","buildDraftSumValues","draftSumRow","summaries","totalNetVal","totalTaxVal","generateDraftSumRow","areTaxRateItems","checkingTaxRate","checkedTaxRate","taxRates","taxRatefinalRow","taxTotal","generateInvoice","invoiceObj","invoices","details","textContent","type","number","place","date","sellDate","seller","street","city","postCode","nip","buyer","payment","toPay","method","term","account","generateInvoicePositions","positionsArray","invoiceSumRow","isTax23","some","isTax8","isTax5","isTax3","isTax00","generateInvoiceSumRow","isTaxRate","vatRatefinalrow","showCompleteInfo","competionModal","style","display","hideCompletionModal","activatePrintInvoice","removeAttribute","closeStorageModal","hideBackdropModal","openStorageModal","displayBackdropModal","fillInputForm","e","target","contains","JSON","parse","localStorage","getItem","itemName","sellers","sellerName","buyers","buyerName","accounts","accountNumber","buildStorageSellersList","localStorageBuyers","Object","keys","entries","li","loadButton","deleteButton","nameSpan","streetSpan","citySpan","nipSpan","noLocalStorageDataInfo","buildStorageBuyersList","buildStorageSellerAccountsList","localStorageAccounts","accountNumberSpan","buildStorageItemsList","localStorageItems","priceSpan","taxSpan","dateSpan","message","noDataInfo","hideListItem","element","addEventListener","console","log","propertyName","tax23","tax8","tax5","tax3","tax0","createInvoiceObj","positions","deleteDraftItem","delID","filter","createNewItem","newItem","push","calculateDraftItemsTotals","draftItemsTotal","reduce","acc","draftItemsTotalNetValue","draftItemsTotalTaxValue","claculateDraftTaxRatesValues","taxRateItemsArr","taxRateNetValue","taxRateTax","taxRateTotal","createDraftVatRatesValues","saveSellerToLocal","setItem","stringify","saveBuyerToLocal","saveItemToLocal","saveAccountToLocal","deleteSeller","deleteBuyer","deleteAccount","deleteItem","appController","StorageCtrl","UiCtrl","loadEventListeners","addItem","calculateDraftItem","verifyInputField","verifyDraftItemInput","isBankAccountCheck","saveSeller","loadSeller","saveBuyer","retrieveBuyers","saveAccount","retrieveAccounts","saveItem","retrieveItems","deleteLocalStorageEntry","init","parentElement","setAttribute","validationFunctions","validatePostCode","validateNip","validateAccount","validateFillInFormInput","validateDraftItemInputs","verifyCompletedForm","inputs","Array","from","getElementsByClassName","input","reg","test","disabled","newItemId","verified","preventDefault","now","createdDate","getUTCFullYear","getUTCMonth","getUTCDate","targetClasses","on","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","split","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","links","i","module"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ALlsCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","file":"main.88f0c403.map","sourceRoot":"..","sourcesContent":["/*\n * printThis v1.12.3\n * @desc Printing plug-in for jQuery\n * @author Jason Day\n *\n * Resources (based on) :\n *              jPrintArea: http://plugins.jquery.com/project/jPrintArea\n *              jqPrint: https://github.com/permanenttourist/jquery.jqprint\n *              Ben Nadal: http://www.bennadel.com/blog/1591-Ask-Ben-Print-Part-Of-A-Web-Page-With-jQuery.htm\n *\n * Licensed under the MIT licence:\n *              http://www.opensource.org/licenses/mit-license.php\n *\n * (c) Jason Day 2015\n *\n * Usage:\n *\n *  $(\"#mySelector\").printThis({\n *      debug: false,               // show the iframe for debugging\n *      importCSS: true,            // import page CSS\n *      importStyle: false,         // import style tags\n *      printContainer: true,       // grab outer container as well as the contents of the selector\n *      loadCSS: \"path/to/my.css\",  // path to additional css file - us an array [] for multiple\n *      pageTitle: \"\",              // add title to print page\n *      removeInline: false,        // remove all inline styles from print elements\n *      printDelay: 333,            // variable print delay\n *      header: null,               // prefix to html\n *      footer: null,               // postfix to html\n *      base: false,                // preserve the BASE tag, or accept a string for the URL\n *      formValues: true,           // preserve input/form values\n *      canvas: false,              // copy canvas elements (experimental)\n *      doctypeString: '...',       // enter a different doctype for older markup\n *      removeScripts: false,       // remove script tags from print content\n *      copyTagClasses: false       // copy classes from the html & body tag\n *  });\n *\n * Notes:\n *  - the loadCSS will load additional css (with or without @media print) into the iframe, adjusting layout\n */\n(function($) {\n  function appendContent($el, content) {\n    if (!content) return;\n\n    // Simple test for a jQuery element\n    $el.append(content.jquery ? content.clone() : content);\n  }\n\n  function appendBody($body, $element, opt) {\n    // Clone for safety and convenience\n    // Calls clone(withDataAndEvents = true) to copy form values.\n    var $content = $element.clone(opt.formValues);\n\n    if (opt.formValues) {\n      // Copy original select and textarea values to their cloned counterpart\n      // Makes up for inability to clone select and textarea values with clone(true)\n      copyValues($element, $content, 'select, textarea');\n    }\n\n    if (opt.removeScripts) {\n      $content.find('script').remove();\n    }\n\n    if (opt.printContainer) {\n      // grab $.selector as container\n      $content.appendTo($body);\n    } else {\n      // otherwise just print interior elements of container\n      $content.each(function() {\n        $(this)\n          .children()\n          .appendTo($body);\n      });\n    }\n  }\n\n  // Copies values from origin to clone for passed in elementSelector\n  function copyValues(origin, clone, elementSelector) {\n    var $originalElements = origin.find(elementSelector);\n\n    clone.find(elementSelector).each(function(index, item) {\n      $(item).val($originalElements.eq(index).val());\n    });\n  }\n\n  var opt;\n  $.fn.printThis = function(options) {\n    opt = $.extend({}, $.fn.printThis.defaults, options);\n    var $element = this instanceof jQuery ? this : $(this);\n\n    var strFrameName = 'printThis-' + new Date().getTime();\n\n    if (window.location.hostname !== document.domain && navigator.userAgent.match(/msie/i)) {\n      // Ugly IE hacks due to IE not inheriting document.domain from parent\n      // checks if document.domain is set by comparing the host name against document.domain\n      var iframeSrc =\n        'javascript:document.write(\"<head><script>document.domain=\\\\\"' +\n        document.domain +\n        '\\\\\";</s' +\n        'cript></head><body></body>\")';\n      var printI = document.createElement('iframe');\n      printI.name = 'printIframe';\n      printI.id = strFrameName;\n      printI.className = 'MSIE';\n      document.body.appendChild(printI);\n      printI.src = iframeSrc;\n    } else {\n      // other browsers inherit document.domain, and IE works if document.domain is not explicitly set\n      var $frame = $(\"<iframe id='\" + strFrameName + \"' name='printIframe' />\");\n      $frame.appendTo('body');\n    }\n\n    var $iframe = $('#' + strFrameName);\n\n    // show frame if in debug mode\n    if (!opt.debug)\n      $iframe.css({\n        position: 'absolute',\n        width: '0px',\n        height: '0px',\n        left: '-600px',\n        top: '-600px',\n      });\n\n    // $iframe.ready() and $iframe.load were inconsistent between browsers\n    setTimeout(function() {\n      // Add doctype to fix the style difference between printing and render\n      function setDocType($iframe, doctype) {\n        var win, doc;\n        win = $iframe.get(0);\n        win = win.contentWindow || win.contentDocument || win;\n        doc = win.document || win.contentDocument || win;\n        doc.open();\n        doc.write(doctype);\n        doc.close();\n      }\n\n      if (opt.doctypeString) {\n        setDocType($iframe, opt.doctypeString);\n      }\n\n      var $doc = $iframe.contents(),\n        $head = $doc.find('head'),\n        $body = $doc.find('body'),\n        $base = $('base'),\n        baseURL;\n\n      // add base tag to ensure elements use the parent domain\n      if (opt.base === true && $base.length > 0) {\n        // take the base tag from the original page\n        baseURL = $base.attr('href');\n      } else if (typeof opt.base === 'string') {\n        // An exact base string is provided\n        baseURL = opt.base;\n      } else {\n        // Use the page URL as the base\n        baseURL = document.location.protocol + '//' + document.location.host;\n      }\n\n      $head.append('<base href=\"' + baseURL + '\">');\n\n      // import page stylesheets\n      if (opt.importCSS)\n        $('link[rel=stylesheet]').each(function() {\n          var href = $(this).attr('href');\n          if (href) {\n            var media = $(this).attr('media') || 'all';\n            $head.append(\n              \"<link type='text/css' rel='stylesheet' href='\" + href + \"' media='\" + media + \"'>\"\n            );\n          }\n        });\n\n      // import style tags\n      if (opt.importStyle)\n        $('style').each(function() {\n          $head.append(this.outerHTML);\n        });\n\n      // add title of the page\n      if (opt.pageTitle) $head.append('<title>' + opt.pageTitle + '</title>');\n\n      // import additional stylesheet(s)\n      if (opt.loadCSS) {\n        if ($.isArray(opt.loadCSS)) {\n          jQuery.each(opt.loadCSS, function(index, value) {\n            $head.append(\"<link type='text/css' rel='stylesheet' href='\" + this + \"'>\");\n          });\n        } else {\n          $head.append(\"<link type='text/css' rel='stylesheet' href='\" + opt.loadCSS + \"'>\");\n        }\n      }\n\n      // copy 'root' tag classes\n      var tag = opt.copyTagClasses;\n      if (tag) {\n        tag = tag === true ? 'bh' : tag;\n        if (tag.indexOf('b') !== -1) {\n          $body.addClass($('body')[0].className);\n        }\n        if (tag.indexOf('h') !== -1) {\n          $doc.find('html').addClass($('html')[0].className);\n        }\n      }\n\n      // print header\n      appendContent($body, opt.header);\n\n      if (opt.canvas) {\n        // add canvas data-ids for easy access after cloning.\n        var canvasId = 0;\n        // .addBack('canvas') adds the top-level element if it is a canvas.\n        $element\n          .find('canvas')\n          .addBack('canvas')\n          .each(function() {\n            $(this).attr('data-printthis', canvasId++);\n          });\n      }\n\n      appendBody($body, $element, opt);\n\n      if (opt.canvas) {\n        // Re-draw new canvases by referencing the originals\n        $body.find('canvas').each(function() {\n          var cid = $(this).data('printthis'),\n            $src = $('[data-printthis=\"' + cid + '\"]');\n\n          this.getContext('2d').drawImage($src[0], 0, 0);\n\n          // Remove the markup from the original\n          $src.removeData('printthis');\n        });\n      }\n\n      // remove inline styles\n      if (opt.removeInline) {\n        // $.removeAttr available jQuery 1.7+\n        if ($.isFunction($.removeAttr)) {\n          $doc.find('body *').removeAttr('style');\n        } else {\n          $doc.find('body *').attr('style', '');\n        }\n      }\n\n      // print \"footer\"\n      appendContent($body, opt.footer);\n\n      setTimeout(function() {\n        if ($iframe.hasClass('MSIE')) {\n          // check if the iframe was created with the ugly hack\n          // and perform another ugly hack out of neccessity\n          window.frames['printIframe'].focus();\n          $head.append('<script>  window.print(); </s' + 'cript>');\n        } else {\n          // proper method\n          if (document.queryCommandSupported('print')) {\n            $iframe[0].contentWindow.document.execCommand('print', false, null);\n          } else {\n            $iframe[0].contentWindow.focus();\n            $iframe[0].contentWindow.print();\n          }\n        }\n\n        // remove iframe after print\n        if (!opt.debug) {\n          setTimeout(function() {\n            $iframe.remove();\n          }, 1000);\n        }\n      }, opt.printDelay);\n    }, 333);\n  };\n\n  // defaults\n  $.fn.printThis.defaults = {\n    debug: false, // show the iframe for debugging\n    importCSS: true, // import parent page css\n    importStyle: false, // import style tags\n    printContainer: false, // print outer container/$.selector\n    loadCSS: '', // load an additional css file - load multiple stylesheets with an array []\n    pageTitle: '', // add title to print page\n    removeInline: false, // remove all inline styles\n    printDelay: 150, // variable print delay\n    header: null, // prefix to html\n    footer: null, // postfix to html\n    formValues: true, // preserve input/form values\n    canvas: false, // copy canvas content (experimental)\n    base: false, // preserve the BASE tag, or accept a string for the URL\n    doctypeString: '<!DOCTYPE html>', // html doctype\n    removeScripts: false, // remove script tags before appending\n    copyTagClasses: false, // copy classes from the html & body tag\n  };\n})(jQuery);\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n","import './printThis';\nimport { v4 } from 'uuid';\nimport '../sass/main.scss';\n\nconst uiController = (function() {\n  // defining DOM elements\n  const DOMElements = {\n    // -------------------------------------------------------\n    // Invoice details input elements\n    // -------------------------------------------------------\n    dataInpuForm: document.querySelector('.data-form'),\n\n    // document data inputs\n    docTypeInp: document.querySelector('.data__doc-type'),\n    docNumInp: document.querySelector('.data__doc-number'),\n    docPlaceInp: document.querySelector('.data__doc-place'),\n    docDateInp: document.querySelector('.data__doc-date'),\n    docSellDateInp: document.querySelector('.data__doc-sell-date'),\n\n    // seller data inputs\n    sellerNameInp: document.querySelector('.data__seller-name'),\n    sellerStreetInp: document.querySelector('.data__seller-street'),\n    sellerCityInp: document.querySelector('.data__seller-city'),\n    sellerPostCodeInp: document.querySelector('.data__seller-post-code'),\n    sellerNipInp: document.querySelector('.data__seller-nip'),\n    sellerSaveBtn: document.querySelector('.btn--seller-save'),\n    sellerLoadBtn: document.querySelector('.btn--seller-load'),\n\n    // buyer data inputs\n    buyerNameInp: document.querySelector('.data__buyer-name'),\n    buyerStreetInp: document.querySelector('.data__buyer-street'),\n    buyerCityInp: document.querySelector('.data__buyer-city'),\n    buyerPostCodeInp: document.querySelector('.data__buyer-post-code'),\n    buyerNipInp: document.querySelector('.data__buyer-nip'),\n    buyerSaveBtn: document.querySelector('.btn--buyer-save'),\n    buyerLoadTrigger: document.querySelector('.btn--buyer-load'),\n\n    // payment terms inputs\n    payMethodInp: document.querySelector('.payment__method'),\n    payTermInp: document.querySelector('.payment__term'),\n    payAccountInp: document.querySelector('.payment__account'),\n    accountSaveBtn: document.querySelector('.btn--account-save'),\n    accountLoadBtn: document.querySelector('.btn--account-load'),\n\n    // draft positions inputs\n    itemNameInp: document.querySelector('.draft-item__name'),\n    itemUnitInp: document.querySelector('.draft-item__unit'),\n    itemQuantInp: document.querySelector('.draft-item__quantity'),\n    itemPriceInp: document.querySelector('.draft-item__price'),\n    itemNetValInp: document.querySelector('.draft-item__net-value'),\n    itemTaxRateInp: document.querySelector('.draft-item__tax-rate'),\n    itemTaxValInp: document.querySelector('.draft-item__tax-value'),\n    itemTotValInp: document.querySelector('.draft-item__total-value'),\n    itemSaveBtn: document.querySelector('.btn--item-save'),\n    itemLoadTrigger: document.querySelector('.btn--item-load'),\n    storageListModalClose: document.querySelector('.btn--close-storage-list'),\n\n    // draft add button\n    addBtn: document.querySelector('.btn--add-item'),\n\n    // draft itens table\n    draftItemConstructor: document.querySelector('.draft-item__constructor'),\n    draftItemTable: document.querySelector('.draft-added-items'),\n    drawtSumTable: document.querySelector('.draft__summary'),\n    itemDelBtn: document.querySelectorAll('.btn--item-del'),\n\n    // storage list modal\n    storageList: document.querySelector('.storage-list'),\n    storageListModal: document.querySelector('.storage-list__modal'),\n    storageListBackdrop: document.querySelector('.storage-list__backdrop'),\n\n    // button generate invoice\n    genBtn: document.querySelector('.btn--gen-inv'),\n    printBtn: document.querySelector('.btn--print-inv'),\n\n    // -------------------------------------------------------\n    //output invoice elements\n    // -------------------------------------------------------\n    invoice: document.querySelector('.invoice'),\n    // invoice heading\n    invType: document.querySelector('.invoice__type'),\n    invNum: document.querySelector('.invoice__number'),\n    invPlace: document.querySelector('.invoice__place'),\n    invSellDate: document.querySelector('.invoice__sell-date'),\n    invDate: document.querySelector('.invoice__place-date'),\n    // invoice seller details\n    invSellerName: document.querySelector('.invoice__seller-name'),\n    invSellerStr: document.querySelector('.invoice__seller-street'),\n    invSellerCity: document.querySelector('.invoice__seller-city'),\n    invSellerPostCode: document.querySelector('.seller__post-code'),\n    invSellerNip: document.querySelector('.invoice__seller-nip'),\n    // invoice buyer details\n    invBuyerName: document.querySelector('.invoice__buyer-name'),\n    invBuyerStr: document.querySelector('.invoice__buyer-street'),\n    invBuyerCity: document.querySelector('.invoice__buyer-city'),\n    invBuyerPostCode: document.querySelector('.buyer__post-code'),\n    invBuyerNip: document.querySelector('.invoice__buyer-nip'),\n    // Invoice positions items table\n    invoicePositionsTable: document.querySelector('.invoice__positions-place'),\n    invoicePositionsTableSum: document.querySelector('.invoice__positions-summary'),\n    // invoice final details\n    invFinalToPay: document.querySelector('.invoice__final-to-pay'),\n    invFinalPayMethod: document.querySelector('.invoice__final-payment-method'),\n    invFinalPayTerm: document.querySelector('.invoice__final-payment-term'),\n    invFinalAccount: document.querySelector('.invoice__final-payment__account'),\n  };\n\n  // displaying draft item taxes in draft item constructor form\n  const displayDraftItemNotFilledInputs = function() {\n    if (DOMElements.itemQuantInp.value !== '' && DOMElements.itemPriceInp.value !== '') {\n      DOMElements.itemNetValInp.value = (\n        DOMElements.itemPriceInp.valueAsNumber * DOMElements.itemQuantInp.valueAsNumber\n      ).toFixed(2);\n      DOMElements.itemTaxValInp.value = (\n        DOMElements.itemQuantInp.valueAsNumber *\n        DOMElements.itemPriceInp.valueAsNumber *\n        parseFloat(DOMElements.itemTaxRateInp.value / 100)\n      ).toFixed(2);\n      DOMElements.itemTotValInp.value = (\n        DOMElements.itemNetValInp.valueAsNumber + DOMElements.itemTaxValInp.valueAsNumber\n      ).toFixed(2);\n      DOMElements.itemTotalPriceInp.value = (\n        DOMElements.itemPriceInp.valueAsNumber +\n        DOMElements.itemPriceInp.valueAsNumber * parseFloat(DOMElements.itemTaxRateInp.value / 100)\n      ).toFixed(2);\n    }\n  };\n\n  // clearing draft item input fields\n  const clearDraftItemFieds = function() {\n    DOMElements.draftItemConstructor.reset();\n    DOMElements.itemNameInp.focus();\n  };\n\n  // add item to draft table\n  const addItemToDraftItemsList = function(id) {\n    const item = storageController.draftItemsData.items.find(item => item.id === id);\n    // create newtable row\n    const newRow = document.createElement('tr');\n    newRow.classList.add('draft__position');\n    newRow.id = `draft-item-${item.id}`;\n    newRow.dataset.identifier = `${item.id}`;\n    newRow.innerHTML = `\n      <td class=\"draft__item-delete\"><button class=\"btn btn--item-del\">usuń</button></td>\n      <td class=\"draft__item-name\">${item.name}</td>\n      <td class=\"draft__item-unit\">${item.unit}</td>\n      <td class=\"draft__item-quantity\">${item.quantity.toFixed(2)}</td>\n      <td class=\"draft__item-price\">${item.netPrice.toFixed(2)}</td>\n      <td class=\"draft__item-net-value\">${item.netValue.toFixed(2)}</td>\n      <td class=\"draft__item-tax-rate\">${item.taxRate}%</td>\n      <td class=\"draft__item-tax-value\">${item.taxValue.toFixed(2)}</td>\n      <td class=\"draft__item-total-value\">${item.total.toFixed(2)}</td>`;\n    DOMElements.draftItemTable.appendChild(newRow);\n  };\n\n  // helper function for cleat innner HTML in given element\n  const clearInnerHtml = function(elem) {\n    elem.innerHTML = '';\n  };\n\n  // building draft items table from start\n  const rebuildDraftItemsTable = function() {\n    clearInnerHtml(DOMElements.draftItemTable);\n    // for each drafted item perform same action\n    storageController.draftItemsData.items.forEach(item => {\n      // create newtable row\n      const newRow = document.createElement('tr');\n      newRow.classList.add('draft__position');\n      newRow.id = `draft-item-${item.id}`;\n      newRow.dataset.identifier = `${item.id}`;\n      newRow.innerHTML = `\n      <td class=\"draft__item-delete\"><button class=\"btn btn--item-del\">usuń</button></td>\n      <td class=\"draft__item-name\">${item.name}</td>\n      <td class=\"draft__item-unit\">${item.unit}</td>\n      <td class=\"draft__item-quantity\">${item.quantity.toFixed(2)}</td>\n      <td class=\"draft__item-price\">${item.netPrice.toFixed(2)}</td>\n      <td class=\"draft__item-net-value\">${item.netValue.toFixed(2)}</td>\n      <td class=\"draft__item-tax-rate\">${item.taxRate}%</td>\n      <td class=\"draft__item-tax-value\">${item.taxValue.toFixed(2)}</td>\n      <td class=\"draft__item-total-value\">${item.total.toFixed(2)}</td>`;\n      DOMElements.draftItemTable.appendChild(newRow);\n    });\n  };\n\n  // building draft sum values in draft table\n  const buildDraftSumValues = function() {\n    // remove all content from summary draft table\n    clearInnerHtml(DOMElements.drawtSumTable);\n\n    const draftSumRow = document.createElement('tr');\n    draftSumRow.classList.add('draft__summary-row');\n    draftSumRow.innerHTML = `\n    <th colspan=\"5\" class=\"draft__summary-legend\">Razem:</th>\n    <th class=\"draft__summary-net-value\">${storageController.draftItemsData.summaries.totalNetVal.toFixed(\n      2\n    )}</th>\n    <th class=\"\"></th>\n    <th class=\"draft__summary-vat-value\">${storageController.draftItemsData.summaries.totalTaxVal.toFixed(\n      2\n    )}</th>\n    <th class=\"draft__summary-total\">${storageController.draftItemsData.summaries.total.toFixed(\n      2\n    )}</th>`;\n    DOMElements.drawtSumTable.appendChild(draftSumRow);\n  };\n\n  const generateDraftSumRow = function(areTaxRateItems, checkingTaxRate) {\n    const checkedTaxRate =\n      storageController.draftItemsData.summaries.taxRates[`tax${checkingTaxRate}`];\n    if (areTaxRateItems) {\n      const taxRatefinalRow = document.createElement('tr');\n      taxRatefinalRow.classList.add('draft__summary-row');\n      taxRatefinalRow.innerHTML = `\n      <td colspan=\"5\" class=\"draft__summary-legend\">W tym:</td>\n      <td class=\"draft__summary-net-value\">${checkedTaxRate.netValue.toFixed(2)}</td>\n      <td class=\"\">${checkingTaxRate}%</td>\n      <td class=\"draft__summary-vat-value\">${checkedTaxRate.taxValue.toFixed(2)}</td>\n      <td class=\"draft__summary-total\">${checkedTaxRate.taxTotal.toFixed(2)}</td>`;\n      DOMElements.drawtSumTable.appendChild(taxRatefinalRow);\n    }\n  };\n\n  const generateInvoice = function() {\n    const invoiceObj = storageController.invoices.invoice.details;\n    // inserting details of the invoice\n    DOMElements.invType.textContent = `${invoiceObj.document.type}`;\n    DOMElements.invNum.textContent = `nr ${invoiceObj.document.number}`;\n    DOMElements.invPlace.textContent = `Miejsce wystawienia: ${invoiceObj.document.place}`;\n    DOMElements.invDate.textContent = `Data wystawienia: ${invoiceObj.document.date}`;\n    DOMElements.invSellDate.textContent = `Data sprzedaży: ${invoiceObj.document.sellDate}`;\n    DOMElements.invSellerName.textContent = `${invoiceObj.seller.name}`;\n    DOMElements.invSellerStr.textContent = `${invoiceObj.seller.street}`;\n    DOMElements.invSellerCity.textContent = `${invoiceObj.seller.city}`;\n    DOMElements.invSellerPostCode.textContent = `${invoiceObj.seller.postCode}`;\n    DOMElements.invSellerNip.textContent = `NIP: ${invoiceObj.seller.nip}`;\n    DOMElements.invBuyerName.textContent = `${invoiceObj.buyer.name}`;\n    DOMElements.invBuyerStr.textContent = `${invoiceObj.buyer.street}`;\n    DOMElements.invBuyerCity.textContent = `${invoiceObj.buyer.city}`;\n    DOMElements.invBuyerPostCode.textContent = `${invoiceObj.buyer.postCode}`;\n    DOMElements.invBuyerNip.textContent = `NIP: ${invoiceObj.buyer.nip}`;\n    DOMElements.invFinalToPay.textContent = `Do zapłaty: ${invoiceObj.payment.toPay.toFixed(\n      2\n    )} PLN`;\n    DOMElements.invFinalPayMethod.textContent = `Sposób płatności: ${invoiceObj.payment.method}`;\n    DOMElements.invFinalPayTerm.textContent = `Termin płatności: ${invoiceObj.payment.term}`;\n    // print account number if choosen method is different than cash\n    if (invoiceObj.payment.method !== 'gotówka') {\n      DOMElements.invFinalAccount.textContent = `Konto: ${invoiceObj.payment.account}`;\n    } else {\n      DOMElements.invFinalAccount.textContent = ``;\n    }\n  };\n\n  const generateInvoicePositions = function(positionsArray) {\n    clearInnerHtml(DOMElements.invoicePositionsTable);\n    clearInnerHtml(DOMElements.invoicePositionsTableSum);\n\n    positionsArray.forEach(item => {\n      const newRow = document.createElement('tr');\n      newRow.classList.add('invoice__position');\n      newRow.id = `invoice-item${item.id}`;\n      newRow.dataset.identifier = `${item.id}`;\n      newRow.innerHTML = `\n          <td class=\"invoice__item-lp\">${positionsArray.indexOf(item) + 1}</td>\n          <td class=\"invoice__item-name\">${item.name}</td>\n          <td class=\"invoice__item-unit\">${item.unit}</td>\n          <td class=\"invoice__item-currency\">PLN</td>\n          <td class=\"invoice__item-quantity\">${item.quantity.toFixed(2)}</td>\n          <td class=\"invoice__item-price\">${item.netPrice.toFixed(2)}</td>\n          <td class=\"invoice__item-net-value\">${item.netValue.toFixed(2)}</td>\n          <td class=\"invoice__item-tax-rate\">${item.taxRate}%</td>\n          <td class=\"invoice__item-tax-value\">${item.taxValue.toFixed(2)}</td>\n          <td class=\"invoice__item-total-value\">${item.total.toFixed(2)}</td>`;\n      DOMElements.invoicePositionsTable.appendChild(newRow);\n    });\n\n    // invoice items summaries from draft items summaries section\n    const totalNetVal = storageController.draftItemsData.summaries.totalNetVal;\n    const totalTaxVal = storageController.draftItemsData.summaries.totalTaxVal;\n    const total = storageController.draftItemsData.summaries.total;\n\n    const invoiceSumRow = document.createElement('tr');\n    invoiceSumRow.classList.add('invoice__summary-row');\n    invoiceSumRow.innerHTML = `\n    <th colspan=\"6\" class=\"invoice__summary-legend\">Razem:</th>\n    <th class=\"invoice__summary-net-value\">${totalNetVal.toFixed(2)}</th>\n    <th class=\"\"></th>\n    <th class=\"invoice__summary-vat-value\">${totalTaxVal.toFixed(2)}</th>\n    <th class=\"invoice__summary-total\">${total.toFixed(2)}</th>`;\n    DOMElements.invoicePositionsTable.appendChild(invoiceSumRow);\n\n    // generate boolean values for check it there are some products with specific tax rates\n    const isTax23 = positionsArray.some(item => item.taxRate === 23);\n    const isTax8 = positionsArray.some(item => item.taxRate === 8);\n    const isTax5 = positionsArray.some(item => item.taxRate === 5);\n    const isTax3 = positionsArray.some(item => item.taxRate === 3);\n    const isTax00 = positionsArray.some(item => item.taxRate === 0);\n\n    //  generate summaries by vat rate\n    generateInvoiceSumRow(isTax23, 23);\n    generateInvoiceSumRow(isTax8, 8);\n    generateInvoiceSumRow(isTax5, 5);\n    generateInvoiceSumRow(isTax3, 3);\n    generateInvoiceSumRow(isTax00, 0);\n  };\n\n  // generate invoice positions sum row for each existing in draft items tavle tax rate determined by first argument the boolean value\n  const generateInvoiceSumRow = function(isTaxRate, checkingTaxRate) {\n    const checkedTaxRate =\n      storageController.draftItemsData.summaries.taxRates[`tax${checkingTaxRate}`];\n    if (isTaxRate) {\n      const vatRatefinalrow = document.createElement('tr');\n      vatRatefinalrow.classList.add('invoice__summary-row');\n      vatRatefinalrow.innerHTML = `\n        <td colspan=\"6\" class=\"invoice__summary-legend\">W tym:</td>\n        <td class=\"invoice__summary-net-value\">${checkedTaxRate.netValue.toFixed(2)}</td>\n        <td class=\"\">${checkingTaxRate}%</td>\n        <td class=\"invoice__summary-vat-value\">${checkedTaxRate.taxValue.toFixed(2)}</td>\n        <td class=\"invoice__summary-total\">${checkedTaxRate.taxTotal.toFixed(2)}</td>`;\n      DOMElements.invoicePositionsTable.appendChild(vatRatefinalrow);\n    }\n  };\n\n  // showing modal complete\n  const showCompleteInfo = function() {\n    const competionModal = document.querySelector('.not-completed-form-modal');\n    competionModal.style.display = 'block';\n    setTimeout(() => competionModal.classList.add('completion-modal-active'), 10);\n\n    setTimeout(hideCompletionModal, 3000);\n\n    function hideCompletionModal() {\n      competionModal.classList.remove('completion-modal-active');\n      setTimeout(() => (competionModal.style.display = 'none'), 250);\n    }\n  };\n\n  const activatePrintInvoice = function() {\n    DOMElements.printBtn.removeAttribute('disabled');\n  };\n\n  const closeStorageModal = function() {\n    DOMElements.storageListModal.classList.remove('modal-active');\n    setTimeout(() => {\n      DOMElements.storageListModal.style.display = 'none';\n    }, 250);\n    hideBackdropModal();\n    DOMElements.storageList.innerHTML = '';\n  };\n\n  const openStorageModal = function() {\n    displayBackdropModal();\n    DOMElements.storageListModal.style.display = 'block';\n    setTimeout(() => {\n      DOMElements.storageListModal.classList.add('modal-active');\n    }, 10);\n  };\n\n  const hideBackdropModal = function() {\n    DOMElements.storageListBackdrop.classList.remove('backdrop-active');\n    setTimeout(() => {\n      DOMElements.storageListBackdrop.style = 'display: none';\n    }, 250);\n  };\n\n  const displayBackdropModal = function() {\n    DOMElements.storageListBackdrop.style = 'display: block';\n    setTimeout(() => {\n      DOMElements.storageListBackdrop.classList.add('backdrop-active');\n    }, 10);\n  };\n\n  const fillInputForm = function(e) {\n    if (e.target.classList.contains('btn--load-item')) {\n      const items = JSON.parse(localStorage.getItem('items'));\n      const item = items[e.target.dataset.itemName];\n      DOMElements.itemNameInp.value = item.name;\n      DOMElements.itemUnitInp.value = item.unit;\n      DOMElements.itemPriceInp.value = item.netPrice;\n      DOMElements.itemTaxRateInp.value = item.taxRate;\n      closeStorageModal();\n      DOMElements.itemQuantInp.focus();\n    }\n    if (e.target.classList.contains('btn--load-seller')) {\n      const sellers = JSON.parse(localStorage.getItem('sellers'));\n      const seller = sellers[e.target.dataset.sellerName];\n      DOMElements.sellerNameInp.value = seller.name;\n      DOMElements.sellerStreetInp.value = seller.street;\n      DOMElements.sellerCityInp.value = seller.city;\n      DOMElements.sellerPostCodeInp.value = seller.postCode;\n      DOMElements.sellerNipInp.value = seller.nip;\n      closeStorageModal();\n    }\n    if (e.target.classList.contains('btn--load-buyer')) {\n      const buyers = JSON.parse(localStorage.getItem('buyers'));\n      const buyer = buyers[e.target.dataset.buyerName];\n      DOMElements.buyerNameInp.value = buyer.name;\n      DOMElements.buyerStreetInp.value = buyer.street;\n      DOMElements.buyerCityInp.value = buyer.city;\n      DOMElements.buyerPostCodeInp.value = buyer.postCode;\n      DOMElements.buyerNipInp.value = buyer.nip;\n      closeStorageModal();\n    }\n    if (e.target.classList.contains('btn--load-account')) {\n      const accounts = JSON.parse(localStorage.getItem('accounts'));\n      const account = accounts[e.target.dataset.accountNumber];\n      DOMElements.payAccountInp.value = account.number;\n      closeStorageModal();\n    }\n  };\n\n  const buildStorageSellersList = function() {\n    const localStorageBuyers = localStorage.getItem('sellers')\n      ? JSON.parse(localStorage.getItem('sellers'))\n      : {};\n    if (Object.keys(localStorageBuyers).length > 0) {\n      const sellers = Object.entries(localStorageBuyers);\n      sellers.forEach(seller => {\n        const li = document.createElement('li');\n        li.classList.add('storage-list__item');\n\n        const loadButton = document.createElement('button');\n        loadButton.classList.add('btn');\n        loadButton.classList.add('btn--choose');\n        loadButton.classList.add('btn--load-seller');\n        loadButton.dataset.sellerName = seller[1].name;\n        loadButton.textContent = 'Wybierz';\n\n        const deleteButton = document.createElement('button');\n        deleteButton.classList.add('btn');\n        deleteButton.classList.add('btn--choose');\n        deleteButton.classList.add('btn--delete-seller');\n        deleteButton.dataset.sellerName = seller[1].name;\n        deleteButton.textContent = 'Usuń';\n\n        const nameSpan = document.createElement('span');\n        nameSpan.classList.add('storage-list__seller-name');\n        nameSpan.textContent = seller[1].name;\n\n        const streetSpan = document.createElement('span');\n        streetSpan.classList.add('storage-list__seller-street');\n        streetSpan.textContent = seller[1].street;\n\n        const citySpan = document.createElement('span');\n        citySpan.classList.add('storage-list__seller-city');\n        citySpan.textContent = seller[1].city;\n\n        const nipSpan = document.createElement('span');\n        nipSpan.classList.add('storage-list__seller-nip');\n        nipSpan.textContent = seller[1].nip;\n\n        li.appendChild(loadButton);\n        li.appendChild(deleteButton);\n        li.appendChild(nameSpan);\n        li.appendChild(streetSpan);\n        li.appendChild(citySpan);\n        li.appendChild(nipSpan);\n\n        DOMElements.storageList.appendChild(li);\n      });\n    } else {\n      noLocalStorageDataInfo('Nie ma żadnych sprzedawców zapisanych w twojej przeglądarce.');\n    }\n  };\n\n  const buildStorageBuyersList = function() {\n    const localStorageBuyers = localStorage.getItem('buyers')\n      ? JSON.parse(localStorage.getItem('buyers'))\n      : {};\n    if (Object.keys(localStorageBuyers).length > 0) {\n      const buyers = Object.entries(localStorageBuyers);\n      buyers.forEach(buyer => {\n        const li = document.createElement('li');\n        li.classList.add('storage-list__item');\n\n        const loadButton = document.createElement('button');\n        loadButton.classList.add('btn');\n        loadButton.classList.add('btn--choose');\n        loadButton.classList.add('btn--load-buyer');\n        loadButton.dataset.buyerName = buyer[1].name;\n        loadButton.textContent = 'Wybierz';\n\n        const deleteButton = document.createElement('button');\n        deleteButton.classList.add('btn');\n        deleteButton.classList.add('btn--choose');\n        deleteButton.classList.add('btn--delete-buyer');\n        deleteButton.dataset.buyerName = buyer[1].name;\n        deleteButton.textContent = 'Usuń';\n\n        const nameSpan = document.createElement('span');\n        nameSpan.classList.add('storage-list__buyer-name');\n        nameSpan.textContent = buyer[1].name;\n\n        const streetSpan = document.createElement('span');\n        streetSpan.classList.add('storage-list__buyer-street');\n        streetSpan.textContent = buyer[1].street;\n\n        const citySpan = document.createElement('span');\n        citySpan.classList.add('storage-list__buyer-city');\n        citySpan.textContent = buyer[1].city;\n\n        const nipSpan = document.createElement('span');\n        nipSpan.classList.add('storage-list__buyer-nip');\n        nipSpan.textContent = buyer[1].nip;\n\n        li.appendChild(loadButton);\n        li.appendChild(deleteButton);\n        li.appendChild(nameSpan);\n        li.appendChild(streetSpan);\n        li.appendChild(citySpan);\n        li.appendChild(nipSpan);\n\n        DOMElements.storageList.appendChild(li);\n      });\n    } else {\n      noLocalStorageDataInfo('Nie ma żadnych kontrahentów zapisanych w twojej przeglądarce.');\n    }\n  };\n\n  const buildStorageSellerAccountsList = function(accounts) {\n    const localStorageAccounts = localStorage.getItem('accounts')\n      ? JSON.parse(localStorage.getItem('accounts'))\n      : {};\n    if (Object.keys(localStorageAccounts).length > 0) {\n      const accounts = Object.entries(localStorageAccounts);\n      accounts.forEach(account => {\n        const li = document.createElement('li');\n        li.classList.add('storage-list__item');\n\n        const loadButton = document.createElement('button');\n        loadButton.classList.add('btn');\n        loadButton.classList.add('btn--choose');\n        loadButton.classList.add('btn--load-account');\n        loadButton.dataset.accountNumber = account[1].number;\n        loadButton.textContent = 'Wybierz';\n\n        const deleteButton = document.createElement('button');\n        deleteButton.classList.add('btn');\n        deleteButton.classList.add('btn--choose');\n        deleteButton.classList.add('btn--delete-account');\n        deleteButton.dataset.accountNumber = account[1].number;\n        deleteButton.textContent = 'Usuń';\n\n        const accountNumberSpan = document.createElement('span');\n        accountNumberSpan.classList.add('storage-list__account-number');\n        accountNumberSpan.textContent = 'Numer Konta: ' + account[1].number;\n\n        li.appendChild(loadButton);\n        li.appendChild(deleteButton);\n        li.appendChild(accountNumberSpan);\n\n        DOMElements.storageList.appendChild(li);\n      });\n    } else {\n      noLocalStorageDataInfo('Nie ma żadnych numerów kont zapisanych w twojej przeglądarce.');\n    }\n  };\n\n  const buildStorageItemsList = function() {\n    const localStorageItems = localStorage.getItem('items')\n      ? JSON.parse(localStorage.getItem('items'))\n      : {};\n    if (Object.keys(localStorageItems).length > 0) {\n      const items = Object.entries(localStorageItems);\n      items.forEach(item => {\n        const li = document.createElement('li');\n        li.classList.add('storage-list__item');\n\n        const loadButton = document.createElement('button');\n        loadButton.classList.add('btn');\n        loadButton.classList.add('btn--choose');\n        loadButton.classList.add('btn--load-item');\n        loadButton.dataset.itemName = item[1].name;\n        loadButton.textContent = 'Wybierz';\n\n        const deleteButton = document.createElement('button');\n        deleteButton.classList.add('btn');\n        deleteButton.classList.add('btn--choose');\n        deleteButton.classList.add('btn--delete-item');\n        deleteButton.dataset.itemName = item[1].name;\n        deleteButton.textContent = 'Usuń';\n\n        const nameSpan = document.createElement('span');\n        nameSpan.classList.add('storage-list__item-name');\n        nameSpan.textContent = item[1].name;\n\n        const priceSpan = document.createElement('span');\n        priceSpan.classList.add('storage-list__item-price');\n        priceSpan.textContent = item[1].netPrice + 'PLN/' + item[1].unit;\n\n        const taxSpan = document.createElement('span');\n        taxSpan.classList.add('storage-list__item-tax');\n        taxSpan.textContent = item[1].taxRate + '%';\n\n        const dateSpan = document.createElement('span');\n        dateSpan.classList.add('storage-list__item-date');\n        dateSpan.textContent = '(zapisano: ' + item[1].date + ')';\n\n        li.appendChild(loadButton);\n        li.appendChild(deleteButton);\n        li.appendChild(nameSpan);\n        li.appendChild(priceSpan);\n        li.appendChild(taxSpan);\n        li.appendChild(dateSpan);\n        DOMElements.storageList.appendChild(li);\n      });\n    } else {\n      noLocalStorageDataInfo('Nie ma żadnych produktów zapisanych w twojej przeglądarce.');\n    }\n  };\n\n  const noLocalStorageDataInfo = function(message) {\n    const noDataInfo = document.createElement('h3');\n    noDataInfo.classList.add('storage-list__no-data-info');\n    noDataInfo.textContent = message;\n\n    DOMElements.storageList.appendChild(noDataInfo);\n  };\n\n  const hideListItem = function(element) {\n    element.addEventListener('transitionend', e => {\n      console.log(e.propertyName);\n      if (e.propertyName === 'opacity') {\n        element.style.display = 'none';\n      }\n    });\n\n    element.classList.add('fade-up');\n  };\n  /*++++++++++++++++++++++++++++++++++++++++++++++++++++++\n  Revealed methods \n  ----------------------------------------------------*/\n  return {\n    DOMElements,\n    displayDraftItemNotFilledInputs,\n    clearDraftItemFieds,\n    rebuildDraftItemsTable,\n    addItemToDraftItemsList,\n    generateDraftSumRow,\n    buildDraftSumValues,\n    generateInvoice,\n    generateInvoicePositions,\n    showCompleteInfo,\n    activatePrintInvoice,\n    closeStorageModal,\n    openStorageModal,\n    hideBackdropModal,\n    displayBackdropModal,\n    fillInputForm,\n    buildStorageItemsList,\n    buildStorageSellerAccountsList,\n    buildStorageBuyersList,\n    buildStorageSellersList,\n    noLocalStorageDataInfo,\n    hideListItem,\n  };\n})();\n\n/*-----------------------------------------------------\n  Storage Controller \n  ----------------------------------------------------*/\n\nconst storageController = (function() {\n  const draftItemsData = {\n    items: [],\n    summaries: {\n      total: 0,\n      totalNetVal: 0,\n      totalTaxVal: 0,\n      taxRates: {\n        tax23: {\n          netValue: 0,\n          taxValue: 0,\n          taxTotal: 0,\n        },\n        tax8: {\n          netValue: 0,\n          taxValue: 0,\n          taxTotal: 0,\n        },\n        tax5: {\n          netValue: 0,\n          taxValue: 0,\n          taxTotal: 0,\n        },\n        tax3: {\n          netValue: 0,\n          taxValue: 0,\n          taxTotal: 0,\n        },\n        tax0: {\n          netValue: 0,\n          taxValue: 0,\n          taxTotal: 0,\n        },\n      },\n    },\n  };\n\n  const invoices = {\n    invoice: {},\n  };\n\n  const DOMElements = uiController.DOMElements;\n\n  const createInvoiceObj = function() {\n    const invoice = {\n      details: {\n        document: {\n          type: DOMElements.docTypeInp.value,\n          number: DOMElements.docNumInp.value,\n          place: DOMElements.docPlaceInp.value,\n          date: DOMElements.docDateInp.value,\n          sellDate: DOMElements.docSellDateInp.value,\n        },\n        seller: {\n          name: DOMElements.sellerNameInp.value,\n          street: DOMElements.sellerStreetInp.value,\n          city: DOMElements.sellerCityInp.value,\n          postCode: DOMElements.sellerPostCodeInp.value,\n          nip: DOMElements.sellerNipInp.value,\n        },\n        buyer: {\n          name: DOMElements.buyerNameInp.value,\n          street: DOMElements.buyerStreetInp.value,\n          city: DOMElements.buyerCityInp.value,\n          postCode: DOMElements.buyerPostCodeInp.value,\n          nip: DOMElements.buyerNipInp.value,\n        },\n        payment: {\n          toPay: draftItemsData.summaries.total,\n          method: DOMElements.payMethodInp.value,\n          term: DOMElements.payTermInp.value,\n          account: DOMElements.payAccountInp.value,\n        },\n      },\n      positions: draftItemsData.items,\n    };\n    invoices.invoice = invoice;\n  };\n\n  const deleteDraftItem = function(delID) {\n    draftItemsData.items = draftItemsData.items.filter(item => item.id != delID);\n  };\n\n  const createNewItem = function(id) {\n    const newItem = {\n      // asigning values to newitem\n      id: id,\n      name: DOMElements.itemNameInp.value,\n      unit: DOMElements.itemUnitInp.value,\n      quantity: DOMElements.itemQuantInp.valueAsNumber,\n      netPrice: DOMElements.itemPriceInp.valueAsNumber,\n      taxRate: parseFloat(DOMElements.itemTaxRateInp.value),\n      get netValue() {\n        return this.netPrice * this.quantity;\n      },\n      get taxValue() {\n        return this.netPrice * this.quantity * (this.taxRate / 100);\n      },\n      get total() {\n        return this.netPrice * this.quantity + this.netPrice * this.quantity * (this.taxRate / 100);\n      },\n    };\n    draftItemsData.items.push(newItem);\n  };\n\n  const calculateDraftItemsTotals = function() {\n    const draftItemsTotal = draftItemsData.items.reduce((acc, item) => {\n      return acc + item.total;\n    }, 0);\n    const draftItemsTotalNetValue = draftItemsData.items.reduce((acc, item) => {\n      return acc + item.netValue;\n    }, 0);\n    const draftItemsTotalTaxValue = draftItemsData.items.reduce((acc, item) => {\n      return acc + item.taxValue;\n    }, 0);\n\n    draftItemsData.summaries.total = draftItemsTotal;\n    draftItemsData.summaries.totalNetVal = draftItemsTotalNetValue;\n    draftItemsData.summaries.totalTaxVal = draftItemsTotalTaxValue;\n  };\n\n  const claculateDraftTaxRatesValues = function(areTaxRateItems, checkingTaxRate) {\n    if (areTaxRateItems) {\n      const taxRateItemsArr = draftItemsData.items.filter(item => item.taxRate === checkingTaxRate);\n      const taxRateNetValue = taxRateItemsArr.reduce((acc, item) => {\n        return acc + item.netValue;\n      }, 0);\n      const taxRateTax = taxRateItemsArr.reduce((acc, item) => {\n        return acc + item.taxValue;\n      }, 0);\n      const taxRateTotal = taxRateItemsArr.reduce((acc, item) => {\n        return acc + item.total;\n      }, 0);\n\n      draftItemsData.summaries.taxRates[`tax${checkingTaxRate}`].taxValue = taxRateTax;\n      draftItemsData.summaries.taxRates[`tax${checkingTaxRate}`].taxTotal = taxRateTotal;\n      draftItemsData.summaries.taxRates[`tax${checkingTaxRate}`].netValue = taxRateNetValue;\n    }\n  };\n\n  // creating vat rates summaries in storage controller and building summaries rows in draft items table\n  const createDraftVatRatesValues = function() {\n    // boolean values for check if there are some products with specific tax rates\n    const isTax00 = draftItemsData.items.some(item => item.taxRate === 0);\n    const isTax3 = draftItemsData.items.some(item => item.taxRate === 3);\n    const isTax5 = draftItemsData.items.some(item => item.taxRate === 5);\n    const isTax8 = draftItemsData.items.some(item => item.taxRate === 8);\n    const isTax23 = draftItemsData.items.some(item => item.taxRate === 23);\n\n    // calculate summary valuest for each vat rate\n    claculateDraftTaxRatesValues(isTax00, 0);\n    claculateDraftTaxRatesValues(isTax3, 3);\n    claculateDraftTaxRatesValues(isTax5, 5);\n    claculateDraftTaxRatesValues(isTax8, 8);\n    claculateDraftTaxRatesValues(isTax23, 23);\n\n    // create summary row for each existing vat rate\n    uiController.generateDraftSumRow(isTax00, 0);\n    uiController.generateDraftSumRow(isTax3, 3);\n    uiController.generateDraftSumRow(isTax5, 5);\n    uiController.generateDraftSumRow(isTax8, 8);\n    uiController.generateDraftSumRow(isTax23, 23);\n  };\n\n  const saveSellerToLocal = function(seller) {\n    let sellers = {};\n    if (localStorage.getItem('sellers')) {\n      sellers = JSON.parse(localStorage.getItem('sellers'));\n    }\n\n    sellers[seller.name] = seller;\n\n    localStorage.setItem('sellers', JSON.stringify(sellers));\n  };\n\n  const saveBuyerToLocal = function(buyer) {\n    let buyers = {};\n    if (localStorage.getItem('buyers')) {\n      buyers = JSON.parse(localStorage.getItem('buyers'));\n    }\n\n    buyers[buyer.name] = buyer;\n\n    localStorage.setItem('buyers', JSON.stringify(buyers));\n  };\n\n  const saveItemToLocal = function(item) {\n    let items = {};\n    if (localStorage.getItem('items')) {\n      items = JSON.parse(localStorage.getItem('items'));\n    }\n\n    items[item.name] = item;\n\n    localStorage.setItem('items', JSON.stringify(items));\n  };\n  const saveAccountToLocal = function(account) {\n    let accounts = {};\n    if (localStorage.getItem('accounts')) {\n      accounts = JSON.parse(localStorage.getItem('accounts'));\n    }\n\n    accounts[account.number] = account;\n\n    localStorage.setItem('accounts', JSON.stringify(accounts));\n  };\n\n  const deleteSeller = function(sellerName) {\n    const sellers = JSON.parse(localStorage.getItem('sellers'));\n    delete sellers[sellerName];\n    localStorage.setItem('sellers', JSON.stringify(sellers));\n  };\n\n  const deleteBuyer = function(buyerName) {\n    const buyers = JSON.parse(localStorage.getItem('buyers'));\n    delete buyers[buyerName];\n    localStorage.setItem('buyers', JSON.stringify(buyers));\n  };\n\n  const deleteAccount = function(account) {\n    const accounts = JSON.parse(localStorage.getItem('accounts'));\n    delete accounts[account];\n    localStorage.setItem('accounts', JSON.stringify(accounts));\n  };\n\n  const deleteItem = function(name) {\n    const items = JSON.parse(localStorage.getItem('items'));\n    delete items[name];\n    localStorage.setItem('items', JSON.stringify(items));\n  };\n\n  /*++++++++++++++++++++++++++++++++++++++++++++++++++++++\n  Revealed methods \n  ----------------------------------------------------*/\n  return {\n    invoices,\n    draftItemsData,\n    createNewItem,\n    deleteDraftItem,\n    createDraftVatRatesValues,\n    createInvoiceObj,\n    calculateDraftItemsTotals,\n    saveSellerToLocal,\n    saveBuyerToLocal,\n    saveItemToLocal,\n    saveAccountToLocal,\n    deleteSeller,\n    deleteBuyer,\n    deleteAccount,\n    deleteItem,\n  };\n})();\n\n/*-----------------------------------------------------\n  App Controller\n----------------------------------------------------*/\n\nconst appController = (function(StorageCtrl, UiCtrl) {\n  const DOMElements = UiCtrl.DOMElements;\n\n  const loadEventListeners = function() {\n    // generate invoice event listener\n    DOMElements.genBtn.addEventListener('click', generateInvoice);\n    // event listeners for draft section\n    DOMElements.addBtn.addEventListener('click', addItem);\n    DOMElements.itemQuantInp.addEventListener('change', calculateDraftItem);\n    DOMElements.itemPriceInp.addEventListener('change', calculateDraftItem);\n    DOMElements.itemNetValInp.addEventListener('change', calculateDraftItem);\n    DOMElements.itemTaxRateInp.addEventListener('change', calculateDraftItem);\n    DOMElements.draftItemTable.addEventListener('click', deleteDraftItem);\n\n    // event listeners for verification for inputs section\n    DOMElements.dataInpuForm.addEventListener('keyup', verifyInputField);\n    DOMElements.dataInpuForm.addEventListener('change', verifyInputField);\n    DOMElements.draftItemConstructor.addEventListener('keyup', verifyDraftItemInput);\n\n    DOMElements.payMethodInp.addEventListener('change', isBankAccountCheck);\n\n    // local storage save and load listeners\n    DOMElements.sellerSaveBtn.addEventListener('click', saveSeller);\n    DOMElements.sellerLoadBtn.addEventListener('click', loadSeller);\n    DOMElements.buyerSaveBtn.addEventListener('click', saveBuyer);\n    DOMElements.buyerLoadTrigger.addEventListener('click', retrieveBuyers);\n    DOMElements.accountSaveBtn.addEventListener('click', saveAccount);\n    DOMElements.accountLoadBtn.addEventListener('click', retrieveAccounts);\n    DOMElements.itemSaveBtn.addEventListener('click', saveItem);\n    DOMElements.itemLoadTrigger.addEventListener('click', retrieveItems);\n    DOMElements.storageListModalClose.addEventListener('click', UiCtrl.closeStorageModal);\n    DOMElements.storageList.addEventListener('click', UiCtrl.fillInputForm);\n    DOMElements.storageList.addEventListener('click', deleteLocalStorageEntry);\n  };\n\n  // initialization function\n  const init = function() {\n    loadEventListeners();\n  };\n\n  const isBankAccountCheck = function(e) {\n    if (e.target.value === 'gotówka' || e.target.value === 'czek') {\n      DOMElements.payAccountInp.parentElement.style.display = 'none';\n      DOMElements.payAccountInp.setAttribute('disabled', true);\n      DOMElements.payAccountInp.value = '';\n    } else {\n      DOMElements.payAccountInp.parentElement.style.display = 'flex';\n      DOMElements.payAccountInp.removeAttribute('disabled');\n    }\n  };\n\n  const verifyInputField = function(e) {\n    if (e.target === DOMElements.sellerPostCodeInp || e.target === DOMElements.buyerPostCodeInp) {\n      validationFunctions.validatePostCode(e);\n    } else if (e.target === DOMElements.sellerNipInp || e.target === DOMElements.buyerNipInp) {\n      validationFunctions.validateNip(e);\n    } else if (e.target === DOMElements.payAccountInp) {\n      if (\n        DOMElements.payMethodInp.value !== 'gotówka' ||\n        DOMElements.payMethodInp.value !== 'pobranie'\n      ) {\n        validationFunctions.validateAccount(e);\n      }\n    } else {\n      validationFunctions.validateFillInFormInput(e);\n    }\n  };\n\n  const verifyDraftItemInput = function(e) {\n    validationFunctions.validateDraftItemInputs(e);\n  };\n\n  const verifyCompletedForm = function() {\n    let inputs = Array.from(DOMElements.dataInpuForm.getElementsByClassName('input'));\n\n    // If payment method is 'gotówka' cuts this field from inputs array to not validate ir\n    if (DOMElements.payMethodInp.value === 'gotówka') {\n      inputs = inputs.filter(item => item.classList.contains('payment__account') === false);\n    }\n    if (inputs.some(input => input.value === '' || input.value === ' ')) {\n      inputs\n        .filter(input => input.value === '' || input.value === ' ')\n        .forEach(input => input.classList.add('invalid'));\n      return false;\n    } else {\n      return true;\n    }\n  };\n\n  // validation functions object\n  const validationFunctions = {\n    validatePostCode: function(e) {\n      const reg = /^\\d\\d-\\d\\d\\d$/;\n      if (!reg.test(e.target.value)) {\n        e.target.classList.add('invalid');\n      } else {\n        e.target.classList.remove('invalid');\n      }\n    },\n    validateNip: function(e) {\n      const reg = /^\\d{3}[- ]?\\d{3}[- ]?\\d\\d[- ]?\\d\\d\\s?$/;\n      if (!reg.test(e.target.value)) {\n        e.target.classList.add('invalid');\n      } else {\n        e.target.classList.remove('invalid');\n      }\n    },\n    validateAccount: function(e) {\n      const reg = /^([A-Za-z]{2})?[ ]?\\d{2}([ ]?\\d{4}){6}\\s?$/;\n      if (!reg.test(e.target.value)) {\n        e.target.classList.add('invalid');\n      } else {\n        e.target.classList.remove('invalid');\n      }\n    },\n    validateFillInFormInput: function(e) {\n      const reg = /[A-Za-z\\d]+/;\n      if (!reg.test(e.target.value)) {\n        e.target.classList.add('invalid');\n      } else {\n        e.target.classList.remove('invalid');\n      }\n    },\n    validateDraftItemInputs: function(e) {\n      if (\n        DOMElements.itemNameInp.value !== '' &&\n        DOMElements.itemNameInp.value !== '' &&\n        DOMElements.itemQuantInp.value !== '' &&\n        DOMElements.itemPriceInp.value !== ''\n      ) {\n        DOMElements.addBtn.disabled = false;\n      } else {\n        DOMElements.addBtn.disabled = true;\n      }\n    },\n  };\n\n  const addItem = function() {\n    const newItemId = v4();\n    storageController.createNewItem(newItemId);\n    storageController.calculateDraftItemsTotals();\n    UiCtrl.clearDraftItemFieds();\n    UiCtrl.addItemToDraftItemsList(newItemId);\n    StorageCtrl.createDraftVatRatesValues();\n    UiCtrl.buildDraftSumValues();\n    storageController.createDraftVatRatesValues();\n    DOMElements.addBtn.disabled = true;\n  };\n\n  const calculateDraftItem = function() {\n    // calculate and display not filled draft input values and placing it's values as input value\n    UiCtrl.displayDraftItemNotFilledInputs();\n  };\n\n  const deleteDraftItem = function(e) {\n    if (e.target.classList.contains('btn--item-del')) {\n      // determine id of target item\n      const delID = e.target.parentElement.parentElement.dataset.identifier;\n      // delete item from storage array by given id\n      StorageCtrl.deleteDraftItem(delID);\n      // recalculate invoice totals\n      StorageCtrl.calculateDraftItemsTotals();\n      // rebuild draft items table\n      UiCtrl.rebuildDraftItemsTable();\n      // check existing on draft items vat rates\n      StorageCtrl.createDraftVatRatesValues();\n      // rebuild vat summareis table by vat rate for draft items\n      UiCtrl.buildDraftSumValues();\n    }\n  };\n\n  // function for generate new invoice object\n  const generateInvoice = function() {\n    const verified = verifyCompletedForm();\n    if (verified) {\n      // create invoice object in storage\n      StorageCtrl.createInvoiceObj();\n      // generating invoice document\n      UiCtrl.generateInvoice();\n      // generate invoice positions from draft items\n      UiCtrl.generateInvoicePositions(StorageCtrl.invoices.invoice.positions);\n      // Activate print invoice button\n      UiCtrl.activatePrintInvoice();\n    } else {\n      uiController.showCompleteInfo();\n    }\n  };\n\n  const saveSeller = function(e) {\n    e.preventDefault();\n\n    const seller = {\n      name: DOMElements.sellerNameInp.value,\n      street: DOMElements.sellerStreetInp.value,\n      city: DOMElements.sellerCityInp.value,\n      postCode: DOMElements.sellerPostCodeInp.value,\n      nip: DOMElements.sellerNipInp.value,\n    };\n    StorageCtrl.saveSellerToLocal(seller);\n  };\n\n  const loadSeller = function(e) {\n    e.preventDefault();\n\n    UiCtrl.openStorageModal();\n    UiCtrl.buildStorageSellersList();\n  };\n\n  const saveBuyer = function(e) {\n    e.preventDefault();\n\n    const buyer = {\n      name: DOMElements.buyerNameInp.value,\n      street: DOMElements.buyerStreetInp.value,\n      city: DOMElements.buyerCityInp.value,\n      postCode: DOMElements.buyerPostCodeInp.value,\n      nip: DOMElements.buyerNipInp.value,\n    };\n    StorageCtrl.saveBuyerToLocal(buyer);\n  };\n\n  const retrieveBuyers = function(e) {\n    e.preventDefault();\n    UiCtrl.openStorageModal();\n    UiCtrl.buildStorageBuyersList();\n  };\n\n  const saveAccount = function(e) {\n    e.preventDefault();\n\n    const account = {\n      number: DOMElements.payAccountInp.value,\n    };\n    StorageCtrl.saveAccountToLocal(account);\n  };\n\n  const retrieveAccounts = function(e) {\n    e.preventDefault();\n\n    UiCtrl.openStorageModal();\n    UiCtrl.buildStorageSellerAccountsList();\n  };\n\n  const saveItem = function(e) {\n    e.preventDefault();\n\n    const now = new Date();\n    const createdDate =\n      now.getUTCFullYear() + '/' + (now.getUTCMonth() + 1) + '/' + now.getUTCDate();\n\n    const item = {\n      name: DOMElements.itemNameInp.value,\n      unit: DOMElements.itemUnitInp.value,\n      netPrice: DOMElements.itemPriceInp.valueAsNumber,\n      taxRate: parseFloat(DOMElements.itemTaxRateInp.value),\n      date: createdDate,\n    };\n    StorageCtrl.saveItemToLocal(item);\n  };\n\n  const retrieveItems = function(e) {\n    e.preventDefault();\n\n    UiCtrl.openStorageModal();\n    UiCtrl.buildStorageItemsList();\n  };\n\n  const deleteLocalStorageEntry = function(e) {\n    e.preventDefault();\n    const targetClasses = e.target.classList;\n    if (targetClasses.contains('btn--delete-seller')) {\n      StorageCtrl.deleteSeller(e.target.dataset.sellerName);\n      UiCtrl.hideListItem(e.target.parentElement);\n    }\n    if (targetClasses.contains('btn--delete-buyer')) {\n      StorageCtrl.deleteBuyer(e.target.dataset.buyerName);\n      UiCtrl.hideListItem(e.target.parentElement);\n    }\n    if (targetClasses.contains('btn--delete-account')) {\n      StorageCtrl.deleteAccount(e.target.dataset.accountNumber);\n      UiCtrl.hideListItem(e.target.parentElement);\n    }\n    if (targetClasses.contains('btn--delete-item')) {\n      StorageCtrl.deleteItem(e.target.dataset.itemName);\n      UiCtrl.hideListItem(e.target.parentElement);\n    }\n  };\n\n  /*++++++++++++++++++++++++++++++++++++++++++++++++++++++\n  Revealed methods \n  ----------------------------------------------------*/\n  return {\n    init,\n  };\n})(storageController, uiController);\n\nappController.init();\n\n// print js script for printing - dependiency - jquery\n$('.btn--print-inv').on('click', function() {\n  $('.invoice').printThis();\n});\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}